/*! For license information please see lib-applicationinsights-web.45b84777811fb693dd43.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[325],{4055:(e,n,t)=>{var r;t.d(n,{K:()=>Ao});var i,a="undefined",o="prototype",s="function",u="_dynClass",c="_unknown_",l=Object,f=l.getPrototypeOf,d=l.getOwnPropertyNames,p=(typeof globalThis!==a&&(i=globalThis),i||typeof self===a||(i=self),i||typeof window===a||(i=window),i||typeof t.g===a||(i=t.g),i||{}),g=p.__dynProto$Gbl||(p.__dynProto$Gbl={o:(r={},r.setInstFuncs=!0,r.useBaseInst=!0,r),n:1e3});function v(e,n){return e&&l.prototype.hasOwnProperty.call(e,n)}function h(e){return e&&(e===l.prototype||e===Array.prototype)}function m(e){return h(e)||e===Function.prototype}function y(e){var n;if(e){if(f)return f(e);var t=e.__proto__||e.prototype||(e.constructor?e.constructor.prototype:null);n=e._dyn__proto__||t,v(e,"_dyn__proto__")||(delete e._dynInstProto,n=e._dyn__proto__=e._dynInstProto||e._dyn__proto__,e._dynInstProto=t)}return n}function x(e,n){var t=[];if(d)t=d(e);else for(var r in e)"string"==typeof r&&v(e,r)&&t.push(r);if(t&&t.length>0)for(var i=0;i<t.length;i++)n(t[i])}function I(e,n,t){return"constructor"!==n&&typeof e[n]===s&&(t||v(e,n))}function T(e){throw new TypeError("DynamicProto: "+e)}function C(e,n){for(var t=e.length-1;t>=0;t--)if(e[t]===n)return!0;return!1}function b(e,n,t,r){var i=null;if(e&&v(t,u)){var a=e._dynInstFuncs||{};if((i=(a[t._dynClass]||{})[n])||T("Missing ["+n+"] "+s),!i._dynInstChk&&!1!==a._dynInstChk){for(var o=!v(e,n),c=y(e),l=[];o&&c&&!m(c)&&!C(l,c);){var f=c[n];if(f){o=f===r;break}l.push(c),c=y(c)}try{o&&(e[n]=i),i._dynInstChk=1}catch(e){a._dynInstChk=!1}}}return i}function w(e,n,t){var r=n[e];return r===t&&(r=y(n)[e]),typeof r!==s&&T("["+e+"] is not a "+s),r}function S(e,n){return v(e,o)?e.name||n||c:((e||{}).constructor||{}).name||n||c}function _(e,n,t,r){v(e,o)||T("theClass is an invalid class definition.");var i=e.prototype;(function(e,n){if(f){for(var t=[],r=y(n);r&&!m(r)&&!C(t,r);){if(r===e)return!0;t.push(r),r=y(r)}return!1}return!0})(i,n)||T("["+S(e)+"] not in hierarchy of ["+S(n)+"]");var a=null;v(i,u)?a=i._dynClass:(a="_dynCls$"+S(e,"_")+"$"+g.n,g.n++,i._dynClass=a);var s=_._dfOpts,c=!!s.useBaseInst;c&&r&&void 0!==r.useBaseInst&&(c=!!r.useBaseInst);var l=function(e){var n={};return x(e,(function(t){!n[t]&&I(e,t,!1)&&(n[t]=e[t])})),n}(n),d=function(e,n,t,r){function i(e,n,t){var i=n[t];if(i._isDynProxy&&r){var a=e._dynInstFuncs||{};!1!==a._dynInstChk&&(i=(a[n._dynClass]||{})[t]||i)}return function(){return i.apply(e,arguments)}}var a={};x(t,(function(e){a[e]=i(n,t,e)}));for(var o=y(e),s=[];o&&!m(o)&&!C(s,o);)x(o,(function(e){!a[e]&&I(o,e,!f)&&(a[e]=i(n,o,e))})),s.push(o),o=y(o);return a}(i,n,l,c);t(n,d);var p=!!f&&!!s.setInstFuncs;p&&r&&(p=!!r.setInstFuncs),function(e,n,t,r,i){if(!h(e)){var a=t._dynInstFuncs=t._dynInstFuncs||{},o=a[n]=a[n]||{};!1!==a._dynInstChk&&(a._dynInstChk=!!i),x(t,(function(n){var i,a,s;I(t,n,!1)&&t[n]!==r[n]&&(o[n]=t[n],delete t[n],(!v(e,n)||e[n]&&!e[n]._isDynProxy)&&(e[n]=(i=e,a=n,s=function(){return(b(this,a,i,s)||w(a,i,s)).apply(this,arguments)},s._isDynProxy=1,s)))}))}}(i,a,n,l,!1!==p)}_._dfOpts=g.o;var k="function",D="object",P="undefined",E=Object,N=E.prototype,M=E.assign,L=E.create,A=E.defineProperty,R=N.hasOwnProperty,q=null;function U(e){void 0===e&&(e=!0);var n=!1===e?null:q;return n||(typeof globalThis!==P&&(n=globalThis),n||typeof self===P||(n=self),n||typeof window===P||(n=window),n||typeof t.g===P||(n=t.g),q=n),n}function F(e){throw new TypeError(e)}function z(e){if(L)return L(e);if(null==e)return{};var n=typeof e;function t(){}return n!==D&&n!==k&&F("Object prototype may only be an Object:"+e),t.prototype=e,new t}(U()||{}).Symbol,(U()||{}).Reflect;var H=M||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var i in n=arguments[t])N.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},B=function(e,n){return(B=E.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])})(e,n)};function V(e,n){function t(){this.constructor=e}typeof n!==k&&null!==n&&F("Class extends value "+String(n)+" is not a constructor or null"),B(e,n),e.prototype=null===n?z(n):(t.prototype=n.prototype,new t)}function j(e,n){for(var t=0,r=n.length,i=e.length;t<r;t++,i++)e[i]=n[t];return e}var O="",K="extensionConfig",X=A,G=E.freeze,Y=E.keys,W=String.prototype,J=W.trim,$=W.endsWith,Z=Date.prototype.toISOString,Q=Array.isArray,ee=N.toString,ne=R.toString,te=ne.call(E),re=/-([a-z])/g,ie=/([^\w\d_$])/g,ae=/^(\d+[\w\d_$])/,oe=Object.getPrototypeOf;function se(e){if(e){if(oe)return oe(e);var n=e.__proto__||e.prototype||e.constructor;if(n)return n}return null}function ue(e){return void 0===e||typeof e===P}function ce(e){return null===e||ue(e)}function le(e){return!ce(e)}function fe(e,n){return!(!e||!R.call(e,n))}function de(e){return!(!e||typeof e!==D)}function pe(e){return!(!e||typeof e!==k)}function ge(e){var n=e;return n&&xe(n)&&(n=(n=(n=n.replace(re,(function(e,n){return n.toUpperCase()}))).replace(ie,"_")).replace(ae,(function(e,n){return"_"+n}))),n}function ve(e,n){if(e)for(var t in e)R.call(e,t)&&n.call(e,t,e[t])}function he(e,n){return!(!e||!n)&&-1!==e.indexOf(n)}var me=Q||function(e){return!(!e||"[object Array]"!==ee.call(e))};function ye(e){return!(!e||"[object Error]"!==ee.call(e))}function xe(e){return"string"==typeof e}function Ie(e){return"number"==typeof e}function Te(e){return"boolean"==typeof e}function Ce(e){var n=!1;if(e&&"object"==typeof e){var t=oe?oe(e):se(e);t?(t.constructor&&R.call(t,"constructor")&&(t=t.constructor),n=typeof t===k&&ne.call(t)===te):n=!0}return n}function be(e){if(e)return Z?e.toISOString():function(e){if(e&&e.getUTCFullYear){var n=function(e){var n=String(e);return 1===n.length&&(n="0"+n),n};return e.getUTCFullYear()+"-"+n(e.getUTCMonth()+1)+"-"+n(e.getUTCDate())+"T"+n(e.getUTCHours())+":"+n(e.getUTCMinutes())+":"+n(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}(e)}function we(e,n,t){var r=e.length;try{for(var i=0;i<r&&(!(i in e)||-1!==n.call(t||e,e[i],i,e));i++);}catch(e){}}function Se(e,n,t){if(e){if(e.indexOf)return e.indexOf(n,t);var r=e.length,i=t||0;try{for(var a=Math.max(i>=0?i:r-Math.abs(i),0);a<r;a++)if(a in e&&e[a]===n)return a}catch(e){}}return-1}function _e(e,n,t){var r;if(e){if(e.map)return e.map(n,t);var i=e.length,a=t||e;r=new Array(i);try{for(var o=0;o<i;o++)o in e&&(r[o]=n.call(a,e[o],e))}catch(e){}}return r}function ke(e){return e&&(e=J&&e.trim?e.trim():e.replace?e.replace(/^\s+|(?=\s)\s+$/g,O):e),e}var De=!{toString:null}.propertyIsEnumerable("toString"),Pe=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];function Ee(e){var n=typeof e;if(n===k||n===D&&null!==e||F("objKeys called on non-object"),!De&&Y)return Y(e);var t=[];for(var r in e)e&&R.call(e,r)&&t.push(r);if(De)for(var i=Pe.length,a=0;a<i;a++)e&&R.call(e,Pe[a])&&t.push(Pe[a]);return t}function Ne(e,n,t,r){if(X)try{var i={enumerable:!0,configurable:!0};return t&&(i.get=t),r&&(i.set=r),X(e,n,i),!0}catch(e){}return!1}function Me(e){return G&&ve(e,(function(e,n){(me(n)||de(n))&&G(n)})),Le(e)}var Le=G||function(e){return e};function Ae(){var e=Date;return e.now?e.now():(new e).getTime()}function Re(e){return ye(e)?e.name:O}function qe(e,n,t,r,i){var a=t;return e&&((a=e[n])===t||i&&!i(a)||r&&!r(t)||(a=t,e[n]=a)),a}function Ue(e,n,t){var r;return e?!(r=e[n])&&ce(r)&&(r=ue(t)?{}:t,e[n]=r):r=ue(t)?{}:t,r}function Fe(e,n){return ce(e)?n:e}function ze(e){return!!e}function He(e){throw new Error(e)}function Be(e,n){var t=null,r=null;return pe(e)?t=e:r=e,function(){var e=arguments;if(t&&(r=t()),r)return r[n].apply(r,e)}}function Ve(e,n,t,r,i){e&&n&&t&&(!1!==i||ue(e[n]))&&(e[n]=Be(t,r))}function je(e,n,t,r){return e&&n&&de(e)&&me(t)&&we(t,(function(t){xe(t)&&Ve(e,t,n,t,r)})),e}function Oe(e){return e&&M&&(e=E(M({},e))),e}function Ke(e,n,t,r,i,a){var o=arguments,s=o[0]||{},u=o.length,c=!1,l=1;for(u>0&&Te(s)&&(c=s,s=o[l]||{},l++),de(s)||(s={});l<u;l++){var f=o[l],d=me(f),p=de(f);for(var g in f){var v=d&&g in f||p&&R.call(f,g);if(v){var h=f[g],m=void 0;if(c&&h&&((m=me(h))||Ce(h))){var y=s[g];m?me(y)||(y=[]):Ce(y)||(y={}),h=Ke(c,y,h)}void 0!==h&&(s[g]=h)}}}return s}function Xe(e){var n={};return ve(e,(function(e,t){n[e]=t,n[t]=e})),Me(n)}var Ge="window",Ye="JSON",We="msie",Je="trident/",$e="XMLHttpRequest",Ze=null,Qe=null,en=null,nn=null;function tn(e,n){var t=!1;if(e){try{if(!(t=n in e)){var r=e.prototype;r&&(t=n in r)}}catch(e){}if(!t)try{t=!ue((new e)[n])}catch(e){}}return t}function rn(e){var n=U();return n&&n[e]?n[e]:e===Ge&&an()?window:null}function an(){return Boolean(typeof window===D&&window)}function on(){return an()?window:rn(Ge)}function sn(){return Boolean(typeof document===D&&document)}function un(){return sn()?document:rn("document")}function cn(){return Boolean(typeof navigator===D&&navigator)}function ln(){return cn()?navigator:rn("navigator")}function fn(){return Boolean(typeof history===D&&history)}function dn(e){return typeof location===D&&location?location:rn("location")}function pn(){return rn("performance")}function gn(){return Boolean(typeof JSON===D&&JSON||null!==rn(Ye))}function vn(){return gn()?JSON||rn(Ye):null}function hn(){var e=ln();if(e&&(e.userAgent!==Qe||null===Ze)){var n=((Qe=e.userAgent)||O).toLowerCase();Ze=he(n,We)||he(n,Je)}return Ze}function mn(e){if(void 0===e&&(e=null),!e){var n=ln()||{};e=n?(n.userAgent||O).toLowerCase():O}var t=(e||O).toLowerCase();if(he(t,We)){var r=un()||{};return Math.max(parseInt(t.split(We)[1]),r.documentMode||0)}if(he(t,Je)){var i=parseInt(t.split(Je)[1]);if(i)return i+4}return null}function yn(e){var n=Object.prototype.toString.call(e),t=O;return"[object Error]"===n?t="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'":gn()&&(t=vn().stringify(e)),n+t}function xn(){return null===nn&&(nn=cn()&&Boolean(ln().sendBeacon)),nn}function In(e){var n=!1;try{n=!!rn("fetch");var t=rn("Request");n&&e&&t&&(n=tn(t,"keepalive"))}catch(e){}return n}function Tn(){return null===en&&(en=typeof XDomainRequest!==P)&&Cn()&&(en=en&&!tn(rn($e),"withCredentials")),en}function Cn(){var e=!1;try{e=!!rn($e)}catch(e){}return e}var bn,wn=["eventsSent","eventsDiscarded","eventsSendRequest","perfEvent"],Sn=null;function _n(e,n){return function(){var t=arguments,r=kn(n);if(r){var i=r.listener;i&&i[e]&&i[e].apply(i,t)}}}function kn(e){var n,t=Sn;return t||!0===e.disableDbgExt||(t=Sn||((n=rn("Microsoft"))&&(Sn=n.ApplicationInsights),Sn)),t?t.ChromeDbgExt:null}function Dn(e){return e?'"'+e.replace(/\"/g,O)+'"':O}function Pn(e,n){var t=typeof console!==P?console:rn("console");if(t){var r="log";t[e]&&(r=e),pe(t[r])&&t[r](n)}}var En=function(){function e(e,n,t,r){void 0===t&&(t=!1);var i=this;i.messageId=e,i.message=(t?"AI: ":"AI (Internal): ")+e;var a=O;gn()&&(a=vn().stringify(r));var o=(n?" message:"+Dn(n):O)+(r?" props:"+Dn(a):O);i.message+=o}return e.dataType="MessageData",e}();function Nn(e,n){return(e||{}).logger||new Mn(n)}var Mn=function(){function e(n){this.identifier="DiagnosticLogger",this.queue=[];var t,r,i,a,o=0,s={};_(e,this,(function(e){var u;function c(n,t){if(!(o>=i)){var a=!0,u="AITR_"+t.messageId;if(s[u]?a=!1:s[u]=!0,a&&(n<=r&&(e.queue.push(t),o++,l(1===n?"error":"warn",t)),o===i)){var c="Internal events throttle limit per PageView reached for this app.",f=new En(23,c,!1);e.queue.push(f),1===n?e.errorToConsole(c):e.warnToConsole(c)}}}function l(e,t){var r=kn(n||{});r&&r.diagLog&&r.diagLog(e,t)}t=Fe((u=n||{}).loggingLevelConsole,0),r=Fe(u.loggingLevelTelemetry,1),i=Fe(u.maxMessageLimit,25),a=Fe(u.enableDebugExceptions,!1),e.consoleLoggingLevel=function(){return t},e.telemetryLoggingLevel=function(){return r},e.maxInternalMessageLimit=function(){return i},e.enableDebugExceptions=function(){return a},e.throwInternal=function(n,r,i,o,u){void 0===u&&(u=!1);var f=new En(r,i,u,o);if(a)throw yn(f);var d=1===n?"errorToConsole":"warnToConsole";if(ue(f.message))l("throw"+(1===n?"Critical":"Warning"),f);else{if(u){var p=+f.messageId;!s[p]&&t>=n&&(e[d](f.message),s[p]=!0)}else t>=n&&e[d](f.message);c(n,f)}},e.warnToConsole=function(e){Pn("warn",e),l("warning",e)},e.errorToConsole=function(e){Pn("error",e),l("error",e)},e.resetInternalMessageCount=function(){o=0,s={}},e.logInternalMessage=c}))}return e.__ieDyn=1,e}();function Ln(e){return e||new Mn}function An(e,n,t,r,i,a){void 0===a&&(a=!1),Ln(e).throwInternal(n,t,r,i,a)}function Rn(e,n){Ln(e).warnToConsole(n)}var qn=function(){function e(n,t,r){var i,a=this,o=!1;a.start=Ae(),a.name=n,a.isAsync=r,a.isChildEvt=function(){return!1},pe(t)&&(o=Ne(a,"payload",(function(){return!i&&pe(t)&&(i=t(),t=null),i}))),a.getCtx=function(n){return n?n===e.ParentContextKey||n===e.ChildrenContextKey?a[n]:(a.ctx||{})[n]:null},a.setCtx=function(n,t){n&&(n===e.ParentContextKey?(a[n]||(a.isChildEvt=function(){return!0}),a[n]=t):n===e.ChildrenContextKey?a[n]=t:(a.ctx=a.ctx||{})[n]=t)},a.complete=function(){var n=0,r=a.getCtx(e.ChildrenContextKey);if(me(r))for(var i=0;i<r.length;i++){var s=r[i];s&&(n+=s.time)}a.time=Ae()-a.start,a.exTime=a.time-n,a.complete=function(){},!o&&pe(t)&&(a.payload=t())}}return e.ParentContextKey="parent",e.ChildrenContextKey="childEvts",e}(),Un=function(){function e(n){this.ctx={},_(e,this,(function(e){e.create=function(e,n,t){return new qn(e,n,t)},e.fire=function(e){e&&(e.complete(),n&&pe(n.perfEvent)&&n.perfEvent(e))},e.setCtx=function(n,t){n&&((e.ctx=e.ctx||{})[n]=t)},e.getCtx=function(n){return(e.ctx||{})[n]}}))}return e.__ieDyn=1,e}(),Fn="CoreUtils.doPerf";function zn(e,n,t,r,i){if(e){var a=e;if(a.getPerfMgr&&(a=a.getPerfMgr()),a){var o=void 0,s=a.getCtx(Fn);try{if(o=a.create(n(),r,i)){if(s&&o.setCtx&&(o.setCtx(qn.ParentContextKey,s),s.getCtx&&s.setCtx)){var u=s.getCtx(qn.ChildrenContextKey);u||(u=[],s.setCtx(qn.ChildrenContextKey,u)),u.push(o)}return a.setCtx(Fn,o),t(o)}}catch(e){o&&o.setCtx&&o.setCtx("exception",e)}finally{o&&a.fire(o),a.setCtx(Fn,s)}}}return t()}var Hn=4294967296,Bn=4294967295,Vn=!1,jn=123456789,On=987654321;function Kn(e){var n=0,t=rn("crypto")||rn("msCrypto");return t&&t.getRandomValues&&(n=t.getRandomValues(new Uint32Array(1))[0]&Bn),0===n&&hn()&&(Vn||function(){try{var e=2147483647&Ae();(n=(Math.random()*Hn^e)+e)<0&&(n>>>=0),jn=123456789+n&Bn,On=987654321-n&Bn,Vn=!0}catch(e){}var n}(),n=function(e){var n=((On=36969*(65535&On)+(On>>16)&Bn)<<16)+(65535&(jn=18e3*(65535&jn)+(jn>>16)&Bn))>>>0&Bn|0;return n>>>=0}()&Bn),0===n&&(n=Math.floor(Hn*Math.random()|0)),e||(n>>>=0),n}function Xn(e){void 0===e&&(e=22);for(var n=Kn()>>>0,t=0,r=O;r.length<e;)t++,r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&n),n>>>=6,5===t&&(n=(Kn()<<2&4294967295|3&n)>>>0,t=0);return r}var Gn=A,Yn="."+Xn(6),Wn=0;function Jn(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}function $n(e,n){return void 0===n&&(n=!1),ge(e+Wn+++(n?".2.8.9":O)+Yn)}function Zn(e){var n={id:$n("_aiData-"+(e||O)+".2.8.9"),accept:function(e){return Jn(e)},get:function(e,t,r,i){var a=e[n.id];return a?a[ge(t)]:(i&&((a=function(e,n){var t=n[e.id];if(!t){t={};try{Jn(n)&&(function(e,n,t){if(Gn)try{return Gn(e,n,{value:t,enumerable:!1,configurable:!0}),!0}catch(e){}return!1}(n,e.id,t)||(n[e.id]=t))}catch(e){}}return t}(n,e))[ge(t)]=r),r)},kill:function(e,n){if(e&&e[n])try{delete e[n]}catch(e){}}};return n}var Qn="toGMTString",et="toUTCString",nt=null,tt=null,rt=null,it=un(),at={},ot={};function st(e){return!e||e.isEnabled()}function ut(e,n){return!!(n&&e&&me(e.ignoreCookies))&&-1!==e.ignoreCookies.indexOf(n)}function ct(e,n){var t;if(e)t=e.getCookieMgr();else if(n){var r=n.cookieCfg;t=r._ckMgr?r._ckMgr:lt(n)}return t||(t=function(e,n){var t=lt._ckMgr||ot._ckMgr;return t||(t=lt._ckMgr=lt(e,n),ot._ckMgr=t),t}(n,(e||{}).logger)),t}function lt(e,n){var t,r=function(e){var n=e.cookieCfg=e.cookieCfg||{};if(qe(n,"domain",e.cookieDomain,le,ce),qe(n,"path",e.cookiePath||"/",null,ce),ce(n.enabled)){var t=void 0;ue(e.isCookieUseDisabled)||(t=!e.isCookieUseDisabled),ue(e.disableCookiesUsage)||(t=!e.disableCookiesUsage),n.enabled=t}return n}(e||ot),i=r.path||"/",a=r.domain,o=!1!==r.enabled,s=((t={isEnabled:function(){var e=o&&ft(n),t=ot._ckMgr;return e&&t&&s!==t&&(e=st(t)),e}}).setEnabled=function(e){o=!1!==e},t.set=function(e,n,t,o,u){var c,l=!1;if(st(s)&&!function(e,n){return!!(n&&e&&me(e.blockedCookies)&&-1!==e.blockedCookies.indexOf(n))||ut(e,n)}(r,e)){var f={},d=ke(n||O),p=d.indexOf(";");if(-1!==p&&(d=ke(n.substring(0,p)),f=dt(n.substring(p+1))),qe(f,"domain",o||a,ze,ue),!ce(t)){var g=hn();if(ue(f.expires)){var v=Ae()+1e3*t;if(v>0){var h=new Date;h.setTime(v),qe(f,"expires",pt(h,g?Qn:et)||pt(h,g?Qn:et)||O,ze)}}g||qe(f,"max-age",O+t,null,ue)}var m=dn();m&&"https:"===m.protocol&&(qe(f,"secure",null,null,ue),null===tt&&(c=(ln()||{}).userAgent,tt=!(xe(c)&&(he(c,"CPU iPhone OS 12")||he(c,"iPad; CPU OS 12")||he(c,"Macintosh; Intel Mac OS X 10_14")&&he(c,"Version/")&&he(c,"Safari")||he(c,"Macintosh; Intel Mac OS X 10_14")&&function(e,n){var t=!1;return e&&n&&!(t=e===n)&&(t=$?e.endsWith(n):function(e,n){var t=!1,r=n?n.length:0,i=e?e.length:0;if(r&&i&&i>=r&&!(t=e===n)){for(var a=i-1,o=r-1;o>=0;o--){if(e[a]!=n[o])return!1;a--}t=!0}return t}(e,n)),t}(c,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||he(c,"Chrome/5")||he(c,"Chrome/6")||he(c,"UnrealEngine")&&!he(c,"Chrome")||he(c,"UCBrowser/12")||he(c,"UCBrowser/11")))),tt&&qe(f,"SameSite","None",null,ue)),qe(f,"path",u||i,null,ue),(r.setCookie||ht)(e,gt(d,f)),l=!0}return l},t.get=function(e){var n=O;return st(s)&&!ut(r,e)&&(n=(r.getCookie||vt)(e)),n},t.del=function(e,n){var t=!1;return st(s)&&(t=s.purge(e,n)),t},t.purge=function(e,t){var i,a=!1;if(ft(n)){var o=((i={}).path=t||"/",i.expires="Thu, 01 Jan 1970 00:00:01 GMT",i);hn()||(o["max-age"]="0"),(r.delCookie||ht)(e,gt(O,o)),a=!0}return a},t);return s._ckMgr=s,s}function ft(e){if(null===nt){nt=!1;try{nt=void 0!==(it||{}).cookie}catch(n){An(e,2,68,"Cannot access document.cookie - "+Re(n),{exception:yn(n)})}}return nt}function dt(e){var n={};return e&&e.length&&we(ke(e).split(";"),(function(e){if(e=ke(e||O)){var t=e.indexOf("=");-1===t?n[e]=null:n[ke(e.substring(0,t))]=ke(e.substring(t+1))}})),n}function pt(e,n){return pe(e[n])?e[n]():null}function gt(e,n){var t=e||O;return ve(n,(function(e,n){t+="; "+e+(ce(n)?O:"="+n)})),t}function vt(e){var n=O;if(it){var t=it.cookie||O;rt!==t&&(at=dt(t),rt=t),n=ke(at[e]||O)}return n}function ht(e,n){it&&(it.cookie=e+"="+n)}var mt="events",yt="visibilitychange",xt="pagehide",It="unload",Tt="beforeunload",Ct=$n("aiEvtPageHide"),bt=($n("aiEvtPageShow"),/\.[\.]+/g),wt=/[\.]+$/,St=1,_t=Zn("events"),kt=/^([^.]*)(?:\.(.+)|)/;function Dt(e){return e&&e.replace?e.replace(/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,O):e}function Pt(e,n){var t;if(n){var r=O;me(n)?(r=O,we(n,(function(e){(e=Dt(e))&&("."!==e[0]&&(e="."+e),r+=e)}))):r=Dt(n),r&&("."!==r[0]&&(r="."+r),e=(e||O)+r)}var i=kt.exec(e||O)||[];return(t={}).type=i[1],t.ns=(i[2]||O).replace(bt,".").replace(wt,O).split(".").sort().join("."),t}function Et(e,n,t){void 0===t&&(t=!0);var r=_t.get(e,mt,{},t),i=r[n];return i||(i=r[n]=[]),i}function Nt(e,n,t,r){e&&n&&n.type&&(e.removeEventListener?e.removeEventListener(n.type,t,r):e.detachEvent&&e.detachEvent("on"+n.type,t))}function Mt(e,n,t,r){for(var i=n.length;i--;){var a=n[i];a&&(t.ns&&t.ns!==a.evtName.ns||r&&!r(a)||(Nt(e,a.evtName,a.handler,a.capture),n.splice(i,1)))}}function Lt(e,n){return n?Pt("xx",me(n)?[e].concat(n):[e,n]).ns.split("."):e}function At(e,n,t,r,i){var a;void 0===i&&(i=!1);var o=!1;if(e)try{var s=Pt(n,r);if(o=function(e,n,t,r){var i=!1;return e&&n&&n.type&&t&&(e.addEventListener?(e.addEventListener(n.type,t,r),i=!0):e.attachEvent&&(e.attachEvent("on"+n.type,t),i=!0)),i}(e,s,t,i),o&&_t.accept(e)){var u=((a={guid:St++,evtName:s}).handler=t,a.capture=i,a);Et(e,s.type).push(u)}}catch(e){}return o}function Rt(e,n,t,r,i){if(void 0===i&&(i=!1),e)try{var a=Pt(n,r),o=!1;!function(e,n,t){if(n.type)Mt(e,Et(e,n.type),n,t);else{var r=_t.get(e,mt,{});ve(r,(function(r,i){Mt(e,i,n,t)})),0===Ee(r).length&&_t.kill(e,mt)}}(e,a,(function(e){return!((!a.ns||t)&&e.handler!==t||(o=!0,0))})),o||Nt(e,a,t,i)}catch(e){}}function qt(e,n,t,r){var i=!1;return n&&e&&e.length>0&&we(e,(function(e){e&&(t&&-1!==Se(t,e)||(i=function(e,n,t){var r=!1,i=on();i&&(r=At(i,e,n,t),r=At(i.body,e,n,t)||r);var a=un();return a&&(r=At(a,e,n,t)||r),r}(e,n,r)||i))})),i}function Ut(e,n,t){e&&me(e)&&we(e,(function(e){e&&function(e,n,t){var r=on();r&&(Rt(r,e,n,t),Rt(r.body,e,n,t));var i=un();i&&Rt(i,e,n,t)}(e,n,t)}))}function Ft(e,n,t){var r=Lt(Ct,t),i=qt([xt],e,n,r);return n&&-1!==Se(n,yt)||(i=qt([yt],(function(n){var t=un();e&&t&&"hidden"===t.visibilityState&&e(n)}),n,r)||i),!i&&n&&(i=Ft(e,null,t)),i}function zt(){for(var e,n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],t=O,r=0;r<4;r++)t+=n[15&(e=Kn())]+n[e>>4&15]+n[e>>8&15]+n[e>>12&15]+n[e>>16&15]+n[e>>20&15]+n[e>>24&15]+n[e>>28&15];var i=n[8+(3&Kn())|0];return t.substr(0,8)+t.substr(9,4)+"4"+t.substr(13,3)+i+t.substr(16,3)+t.substr(19,12)}var Ht="00",Bt="00000000000000000000000000000000",Vt="0000000000000000";function jt(e,n,t){return!(!e||e.length!==n||e===t||!e.match(/^[\da-f]*$/))}function Ot(e,n,t){return jt(e,n)?e:t}function Kt(e,n,t,r){var i;return(i={}).version=jt(r,2,"ff")?r:Ht,i.traceId=Xt(e)?e:zt(),i.spanId=Gt(n)?n:zt().substr(0,16),i.traceFlags=t>=0&&t<=255?t:1,i}function Xt(e){return jt(e,32,Bt)}function Gt(e){return jt(e,16,Vt)}function Yt(e){if(e){var n=function(e){(isNaN(e)||e<0||e>255)&&(e=1);for(var n=e.toString(16);n.length<2;)n="0"+n;return n}(e.traceFlags);jt(n,2)||(n="01");var t=e.version||Ht;return"00"!==t&&"ff"!==t&&(t=Ht),"".concat(t,"-").concat(Ot(e.traceId,32,Bt),"-").concat(Ot(e.spanId,16,Vt),"-").concat(n)}return""}var Wt=Zn("plugin");function Jt(e){return Wt.get(e,"state",{},!0)}function $t(e,n){for(var t,r=[],i=null,a=e.getNext();a;){var o=a.getPlugin();o&&(i&&pe(i.setNextPlugin)&&pe(o.processTelemetry)&&i.setNextPlugin(o),(pe(o.isInitialized)?o.isInitialized():(t=Jt(o)).isInitialized)||r.push(o),i=o,a=a.getNext())}we(r,(function(r){var i=e.core();r.initialize(e.getCfg(),i,n,e.getNext()),t=Jt(r),r.core||t.core||(t.core=i),t.isInitialized=!0,delete t.teardown}))}function Zt(e){return e.sort((function(e,n){var t=0;if(n){var r=pe(n.processTelemetry);pe(e.processTelemetry)?t=r?e.priority-n.priority:1:r&&(t=-1)}else t=e?1:-1;return t}))}var Qt=0;function er(e,n,t,r){var i=null,a=[];null!==r&&(i=r?function(e,n,t){for(;e;){if(e.getPlugin()===t)return e;e=e.getNext()}return ir([t],n.config||{},n)}(e,t,r):e);var o={_next:function(){var e=i;if(i=e?e.getNext():null,!e){var n=a;n&&n.length>0&&(we(n,(function(e){try{e.func.call(e.self,e.args)}catch(e){An(t.logger,2,73,"Unexpected Exception during onComplete - "+yn(e))}})),a=[])}return e},ctx:{core:function(){return t},diagLog:function(){return Nn(t,n)},getCfg:function(){return n},getExtCfg:s,getConfig:function(e,t,r){void 0===r&&(r=!1);var i,a=s(e,null);return a&&!ce(a[t])?i=a[t]:n&&!ce(n[t])&&(i=n[t]),ce(i)?r:i},hasNext:function(){return!!i},getNext:function(){return i},setNext:function(e){i=e},iterate:function(e){for(var n;n=o._next();){var t=n.getPlugin();t&&e(t)}},onComplete:function(e,n){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];e&&a.push({func:e,self:ue(n)?o.ctx:n,args:t})}}};function s(e,t,r){var i;if(void 0===t&&(t={}),void 0===r&&(r=0),n){var a=n.extensionConfig;a&&e&&(i=a[e])}if(i){if(de(t)&&0!==r){var o=Ke(!0,t,i);n&&2===r&&ve(t,(function(e){if(ce(o[e])){var t=n[e];ce(t)||(o[e]=t)}})),i=o}}else i=t;return i}return o}function nr(e,n,t,r){var i=er(e,n,t,r),a=i.ctx;return a.processNext=function(e){var n=i._next();return n&&n.processTelemetry(e,a),!n},a.createNew=function(e,r){return void 0===e&&(e=null),me(e)&&(e=ir(e,n,t,r)),nr(e||a.getNext(),n,t,r)},a}function tr(e,n,t){var r=n.config||{},i=er(e,r,n,t),a=i.ctx;return a.processNext=function(e){var n=i._next();return n&&n.unload(a,e),!n},a.createNew=function(e,t){return void 0===e&&(e=null),me(e)&&(e=ir(e,r,n,t)),tr(e||a.getNext(),n,t)},a}function rr(e,n,t){var r=n.config||{},i=er(e,r,n,t).ctx;return i.processNext=function(e){return i.iterate((function(n){pe(n.update)&&n.update(i,e)}))},i.createNew=function(e,t){return void 0===e&&(e=null),me(e)&&(e=ir(e,r,n,t)),rr(e||i.getNext(),n,t)},i}function ir(e,n,t,r){var i=null,a=!r;if(me(e)&&e.length>0){var o=null;we(e,(function(e){if(a||r!==e||(a=!0),a&&e&&pe(e.processTelemetry)){var s=function(e,n,t){var r,i=null,a=pe(e.processTelemetry),o=pe(e.setNextPlugin),s={getPlugin:function(){return e},getNext:function(){return i},processTelemetry:function(r,c){u(c=c||function(){var r;return e&&pe(e._getTelCtx)&&(r=e._getTelCtx()),r||(r=nr(s,n,t)),r}(),(function(n){if(!e||!a)return!1;var t=Jt(e);return!t.teardown&&!t.disabled&&(o&&e.setNextPlugin(i),e.processTelemetry(r,n),!0)}),"processTelemetry",(function(){return{item:r}}),!r.sync)||c.processNext(r)},unload:function(n,t){u(n,(function(){var r=!1;if(e){var i=Jt(e),a=e.core||i.core;!e||a&&a!==n.core()||i.teardown||(i.core=null,i.teardown=!0,i.isInitialized=!1,e.teardown&&!0===e.teardown(n,t)&&(r=!0))}return r}),"unload",(function(){}),t.isAsync)||n.processNext(t)},update:function(n,t){u(n,(function(){var r=!1;if(e){var i=Jt(e),a=e.core||i.core;!e||a&&a!==n.core()||i.teardown||e.update&&!0===e.update(n,t)&&(r=!0)}return r}),"update",(function(){}),!1)||n.processNext(t)},_id:r=e?e.identifier+"-"+e.priority+"-"+Qt++:"Unknown-0-"+Qt++,_setNext:function(e){i=e}};function u(n,t,a,o,s){var u=!1,c=e?e.identifier:"TelemetryPluginChain",l=n._hasRun;return l||(l=n._hasRun={}),n.setNext(i),e&&zn(n.core(),(function(){return c+":"+a}),(function(){l[r]=!0;try{var e=i?i._id:O;e&&(l[e]=!1),u=t(n)}catch(e){var o=!i||l[i._id];o&&(u=!0),i&&o||An(n.diagLog(),1,73,"Plugin ["+c+"] failed during "+a+" - "+yn(e)+", run flags: "+yn(l))}}),o,s),u}return Le(s)}(e,n,t);i||(i=s),o&&o._setNext(s),o=s}}))}return r&&!i?ir([r],n,t):i}var ar=500;function or(e,n,t){n&&me(n)&&n.length>0&&(we(n=n.sort((function(e,n){return e.priority-n.priority})),(function(e){e.priority<ar&&He("Channel has invalid priority - "+e.identifier)})),e.push({queue:Le(n),chain:ir(n,t.config,t)}))}function sr(){var e=[];return{add:function(n){n&&e.push(n)},run:function(n,t){we(e,(function(e){try{e(n,t)}catch(e){An(n.diagLog(),2,73,"Unexpected error calling unload handler - "+yn(e))}})),e=[]}}}var ur=function(){function e(){var n,t,r,i,a,o=this;function s(e){void 0===e&&(e=null);var n=e;if(!n){var i=t||nr(null,{},o.core);n=r&&r.getPlugin?i.createNew(null,r.getPlugin):i.createNew(null,r)}return n}function u(e,n,i){e&&qe(e,K,[],null,ce),!i&&n&&(i=n.getProcessTelContext().getNext());var a=r;r&&r.getPlugin&&(a=r.getPlugin()),o.core=n,t=nr(i,e,n,a)}function c(){n=!1,o.core=null,t=null,r=null,a=[],i=sr()}c(),_(e,o,(function(e){e.initialize=function(e,t,r,i){u(e,t,i),n=!0},e.teardown=function(n,t){var o,s=e.core;if(s&&(!n||s===n.core())){var u,l=!1,f=n||tr(null,s,r&&r.getPlugin?r.getPlugin():r),d=t||((o={reason:0}).isAsync=!1,o);return e._doTeardown&&!0===e._doTeardown(f,d,p)?u=!0:p(),u}function p(){if(!l){l=!0,i.run(f,t);var e=a;a=[],we(e,(function(e){e.rm()})),!0===u&&f.processNext(d),c()}}},e.update=function(n,t){var i=e.core;if(i&&(!n||i===n.core())){var a,o=!1,s=n||rr(null,i,r&&r.getPlugin?r.getPlugin():r),c=t||{reason:0};return e._doUpdate&&!0===e._doUpdate(s,c,l)?a=!0:l(),a}function l(){o||(o=!0,u(s.getCfg(),s.core(),s.getNext()))}},e._addHook=function(e){e&&(me(e)?a=a.concat(e):a.push(e))},Ve(e,"_addUnloadCb",(function(){return i}),"add")})),o.diagLog=function(e){return s(e).diagLog()},o.isInitialized=function(){return n},o.setInitialized=function(e){n=e},o.setNextPlugin=function(e){r=e},o.processNext=function(e,n){n?n.processNext(e):r&&pe(r.processTelemetry)&&r.processTelemetry(e,null)},o._getTelCtx=s}return e.__ieDyn=1,e}(),cr=function(e){function n(){var t,r,i=e.call(this)||this;function a(){t=0,r=[]}return i.identifier="TelemetryInitializerPlugin",i.priority=199,a(),_(n,i,(function(e,n){e.addTelemetryInitializer=function(e){var n={id:t++,fn:e};return r.push(n),{remove:function(){we(r,(function(e,t){if(e.id===n.id)return r.splice(t,1),-1}))}}},e.processTelemetry=function(n,t){for(var i=!1,a=r.length,o=0;o<a;++o){var s=r[o];if(s)try{if(!1===s.fn.apply(null,[n])){i=!0;break}}catch(e){An(t.diagLog(),1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+Re(e),{exception:yn(e)},!0)}}i||e.processNext(n,t)},e._doTeardown=function(){a()}})),i}return V(n,e),n.__ieDyn=1,n}(ur),lr="Plugins must provide initialize method",fr="SDK is still unloading...",dr={loggingLevelConsole:1};function pr(e,n){return new Un(n)}function gr(e,n){var t=!1;return we(n,(function(n){if(n===e)return t=!0,-1})),t}var vr=function(){function e(){var n,t,r,i,a,o,s,u,c,l,f,d,p,g,v,h,m,y,x,I,T=0;_(e,this,(function(e){function C(){t=!1,n=Ke(!0,{},dr),e.config=n,e.logger=new Mn(n),e._extensions=[],v=new cr,r=[],i=null,a=null,o=null,s=null,u=null,l=null,c=[],f=null,d=null,p=null,g=!1,h=null,m=$n("AIBaseCore",!0),y=sr(),I=null}function b(){return nr(_(),n,e)}function w(t){var r=function(e,n,t){var r,i=[],a={};return we(t,(function(n){(ce(n)||ce(n.initialize))&&He(lr);var t=n.priority,r=n.identifier;n&&t&&(ce(a[t])?a[t]=r:Rn(e,"Two extensions have same priority #"+t+" - "+a[t]+", "+r)),(!t||t<500)&&i.push(n)})),(r={all:t}).core=i,r}(e.logger,0,c);l=r.core,u=null;var i=r.all;if(p=Le(function(e,n,t){var r=[];if(e&&we(e,(function(e){return or(r,e,t)})),n){var i=[];we(n,(function(e){e.priority>ar&&i.push(e)})),or(r,i,t)}return r}(d,i,e)),f){var a=Se(i,f);-1!==a&&i.splice(a,1),-1!==(a=Se(l,f))&&l.splice(a,1),f._setQueue(p)}else f=function(e,n){function t(){return nr(null,n.config,n,null)}function r(e,n,t,r){var i=e?e.length+1:1;function a(){0==--i&&(r&&r(),r=null)}i>0&&we(e,(function(e){if(e&&e.queue.length>0){var r=e.chain,o=n.createNew(r);o.onComplete(a),t(o)}else i--})),a()}var i=!1;return{identifier:"ChannelControllerPlugin",priority:ar,initialize:function(n,t,r,a){i=!0,we(e,(function(e){e&&e.queue.length>0&&$t(nr(e.chain,n,t),r)}))},isInitialized:function(){return i},processTelemetry:function(n,i){r(e,i||t(),(function(e){e.processNext(n)}),(function(){i.processNext(n)}))},update:function(n,t){var i=t||{reason:0};return r(e,n,(function(e){e.processNext(i)}),(function(){n.processNext(i)})),!0},pause:function(){r(e,t(),(function(e){e.iterate((function(e){e.pause&&e.pause()}))}),null)},resume:function(){r(e,t(),(function(e){e.iterate((function(e){e.resume&&e.resume()}))}),null)},teardown:function(n,t){var a=t||{reason:0,isAsync:!1};return r(e,n,(function(e){e.processNext(a)}),(function(){n.processNext(a),i=!1})),!0},getChannel:function(n){var t=null;return e&&e.length>0&&we(e,(function(e){if(e&&e.queue.length>0&&(we(e.queue,(function(e){if(e.identifier===n)return t=e,-1})),t))return-1})),t},flush:function(n,i,a,o){var s=1,u=!1,c=null;function l(){s--,u&&0===s&&(c&&(clearTimeout(c),c=null),i&&i(u),i=null)}return o=o||5e3,r(e,t(),(function(e){e.iterate((function(e){if(e.flush){s++;var t=!1;e.flush(n,(function(){t=!0,l()}),a)||t||(n&&null==c?c=setTimeout((function(){c=null,l()}),o):l())}}))}),(function(){u=!0,l()})),!0},_setQueue:function(n){e=n}}}(p,e);i.push(f),l.push(f),e._extensions=Zt(i),f.initialize(n,e,i),$t(b(),i),e._extensions=Le(Zt(l||[])).slice(),t&&function(n){var t=rr(_(),e);e._updateHook&&!0===e._updateHook(t,n)||t.processNext(n)}(t)}function S(n){var t,r=null,i=null;return we(e._extensions,(function(e){if(e.identifier===n&&e!==f&&e!==v)return i=e,-1})),!i&&f&&(i=f.getChannel(n)),i&&((t={plugin:i}).setEnabled=function(e){Jt(i).disabled=!e},t.isEnabled=function(){var e=Jt(i);return!e.teardown&&!e.disabled},t.remove=function(e,n){var t;void 0===e&&(e=!0);var r=[i],a=((t={reason:1}).isAsync=e,t);k(r,a,(function(e){e&&w({reason:32,removed:r}),n&&n(e)}))},r=t),r}function _(){if(!u){var t=(l||[]).slice();-1===Se(t,v)&&t.push(v),u=ir(Zt(t),n,e)}return u}function k(t,r,i){if(t&&t.length>0){var a=tr(ir(t,n,e),e);a.onComplete((function(){var e=!1,n=[];we(c,(function(r,i){gr(r,t)?e=!0:n.push(r)})),c=n;var r=[];d&&(we(d,(function(n,i){var a=[];we(n,(function(n){gr(n,t)?e=!0:a.push(n)})),r.push(a)})),d=r),i&&i(e)})),a.processNext(r)}else i(!1)}function D(){var t=e.logger?e.logger.queue:[];t&&(we(t,(function(t){var r,i=((r={}).name=h||"InternalMessageId: "+t.messageId,r.iKey=Fe(n.instrumentationKey),r.time=be(new Date),r.baseType=En.dataType,r.baseData={message:t.message},r);e.track(i)})),t.length=0)}function P(e,n,t,r){return f?f.flush(e,n,t||6,r):(n&&n(!1),!0)}function E(n){var t=e.logger;t?An(t,2,73,n):He(n)}C(),e.isInitialized=function(){return t},e.initialize=function(r,a,s,u){var l,f;g&&He(fr),e.isInitialized()&&He("Core should not be initialized more than once"),n=r||{},e.config=n,ce(r.instrumentationKey)&&He("Please provide instrumentation key"),i=u,e._notificationManager=u,!0===(f=Fe(n.disableDbgExt))&&x&&(i.removeNotificationListener(x),x=null),i&&!x&&!0!==f&&(x=function(e){if(!bn){bn={};for(var n=0;n<wn.length;n++)bn[wn[n]]=_n(wn[n],e)}return bn}(n),i.addNotificationListener(x)),!(l=Fe(n.enablePerfMgr))&&o&&(o=null),l&&Ue(n,"createPerfMgr",pr),Ue(n,K,{}).NotificationManager=i,s&&(e.logger=s);var v=Ue(n,"extensions",[]);(c=[]).push.apply(c,j(j([],a),v)),d=Ue(n,"channels",[]),w(null),p&&0!==p.length||He("No channels available"),t=!0,e.releaseQueue()},e.getTransmissionControls=function(){var e=[];return p&&we(p,(function(n){e.push(n.queue)})),Le(e)},e.track=function(t){t.iKey=t.iKey||n.instrumentationKey,t.time=t.time||be(new Date),t.ver=t.ver||"4.0",!g&&e.isInitialized()?b().processNext(t):r.push(t)},e.getProcessTelContext=b,e.getNotifyMgr=function(){var n;return i||(i=z(((n={}).addNotificationListener=function(e){},n.removeNotificationListener=function(e){},n.eventsSent=function(e){},n.eventsDiscarded=function(e,n){},n.eventsSendRequest=function(e,n){},n)),e._notificationManager=i),i},e.addNotificationListener=function(e){i&&i.addNotificationListener(e)},e.removeNotificationListener=function(e){i&&i.removeNotificationListener(e)},e.getCookieMgr=function(){return s||(s=lt(n,e.logger)),s},e.setCookieMgr=function(e){s=e},e.getPerfMgr=function(){if(!a&&!o&&Fe(n.enablePerfMgr)){var t=Fe(n.createPerfMgr);pe(t)&&(o=t(e,e.getNotifyMgr()))}return a||o||null},e.setPerfMgr=function(e){a=e},e.eventCnt=function(){return r.length},e.releaseQueue=function(){if(t&&r.length>0){var e=r;r=[],we(e,(function(e){b().processNext(e)}))}},e.pollInternalLogs=function(e){h=e||null;var t=Fe(n.diagnosticLogInterval);return t&&t>0||(t=1e4),T&&clearInterval(T),T=setInterval((function(){D()}),t)},e.stopPollingInternalLogs=function(){T&&(clearInterval(T),T=0,D())},je(e,(function(){return v}),["addTelemetryInitializer"]),e.unload=function(n,r,i){var a;void 0===n&&(n=!0),t||He("SDK is not initialized"),g&&He(fr);var o=((a={reason:50}).isAsync=n,a.flushComplete=!1,a),s=tr(_(),e);function u(n){o.flushComplete=n,g=!0,y.run(s,o),e.stopPollingInternalLogs(),s.processNext(o)}s.onComplete((function(){C(),r&&r(o)}),e),P(n,u,6,i)||u(!1)},e.getPlugin=S,e.addPlugin=function(e,n,t,r){if(!e)return r&&r(!1),void E(lr);var i=S(e.identifier);if(i&&!n)return r&&r(!1),void E("Plugin ["+e.identifier+"] is already loaded!");var a={reason:16};function o(n){c.push(e),a.added=[e],w(a),r&&r(!0)}if(i){var s=[i.plugin];k(s,{reason:2,isAsync:!!t},(function(e){e?(a.removed=s,a.reason|=32,o()):r&&r(!1)}))}else o()},e.evtNamespace=function(){return m},e.flush=P,e.getTraceCtx=function(e){var n;return I||(n={},I={getName:function(){return n.name},setName:function(e){n.name=e},getTraceId:function(){return n.traceId},setTraceId:function(e){Xt(e)&&(n.traceId=e)},getSpanId:function(){return n.spanId},setSpanId:function(e){Gt(e)&&(n.spanId=e)},getTraceFlags:function(){return n.traceFlags},setTraceFlags:function(e){n.traceFlags=e}}),I},e.setTraceCtx=function(e){I=e||null},Ve(e,"addUnloadCb",(function(){return y}),"add")}))}return e.__ieDyn=1,e}();function hr(e,n,t,r){we(e,(function(e){if(e&&e[n])if(t)setTimeout((function(){return r(e)}),0);else try{r(e)}catch(e){}}))}var mr=function(){function e(n){this.listeners=[];var t=!!(n||{}).perfEvtsSendAll;_(e,this,(function(e){e.addNotificationListener=function(n){e.listeners.push(n)},e.removeNotificationListener=function(n){for(var t=Se(e.listeners,n);t>-1;)e.listeners.splice(t,1),t=Se(e.listeners,n)},e.eventsSent=function(n){hr(e.listeners,"eventsSent",!0,(function(e){e.eventsSent(n)}))},e.eventsDiscarded=function(n,t){hr(e.listeners,"eventsDiscarded",!0,(function(e){e.eventsDiscarded(n,t)}))},e.eventsSendRequest=function(n,t){hr(e.listeners,"eventsSendRequest",t,(function(e){e.eventsSendRequest(n,t)}))},e.perfEvent=function(n){n&&(!t&&n.isChildEvt()||hr(e.listeners,"perfEvent",!1,(function(e){n.isAsync?setTimeout((function(){return e.perfEvent(n)}),0):e.perfEvent(n)})))}}))}return e.__ieDyn=1,e}(),yr=function(e){function n(){var t=e.call(this)||this;return _(n,t,(function(e,n){function t(n){var t=e.getNotifyMgr();t&&t.eventsDiscarded([n],2)}e.initialize=function(e,t,r,i){n.initialize(e,t,r||new Mn(e),i||new mr(e))},e.track=function(r){zn(e.getPerfMgr(),(function(){return"AppInsightsCore:track"}),(function(){null===r&&(t(r),He("Invalid telemetry item")),function(e){ce(e.name)&&(t(e),He("telemetry name required"))}(r),n.track(r)}),(function(){return{item:r}}),!r.sync)}})),t}return V(n,e),n.__ieDyn=1,n}(vr),xr=["req","rsp","hkErr","fnErr"];function Ir(e,n){if(e)for(var t=0;t<e.length&&!n(e[t],t);t++);}function Tr(e,n,t,r,i){i>=0&&i<=2&&Ir(e,(function(e,a){var o=e.cbks,s=o[xr[i]];if(s){n.ctx=function(){return r[a]=r[a]||{}};try{s.apply(n.inst,t)}catch(e){var u=n.err;try{var c=o[xr[2]];c&&(n.err=e,c.apply(n.inst,t))}catch(e){}finally{n.err=u}}}}))}function Cr(e,n,t){var r=null;return e&&(fe(e,n)?r=e:t&&(r=Cr(se(e),n,!1))),r}function br(e,n,t,r){var i=t&&t._aiHooks;if(!i){var a=function(e){return function(){var n,t=this,r=arguments,i=e.h,a=((n={}).name=e.n,n.inst=t,n.ctx=null,n.set=c,n),o=[],s=u([a],r);function u(e,n){return Ir(n,(function(n){e.push(n)})),e}function c(e,n){(r=u([],r))[e]=n,s=u([a],r)}a.evt=rn("event"),Tr(i,a,s,o,0);var l=e.f;if(l)try{a.rslt=l.apply(t,r)}catch(e){throw a.err=e,Tr(i,a,s,o,3),e}return Tr(i,a,s,o,1),a.rslt}}(i={i:0,n,f:t,h:[]});a._aiHooks=i,e[n]=a}var o={id:i.i,cbks:r,rm:function(){var e=this.id;Ir(i.h,(function(n,t){if(n.id===e)return i.h.splice(t,1),1}))}};return i.i++,i.h.push(o),o}function wr(e,n,t,r){if(void 0===r&&(r=!0),e&&n&&t){var i=Cr(e,n,r);if(i){var a=i[n];if(typeof a===k)return br(i,n,a,t)}}return null}function Sr(e,n,t,r){if(e&&n&&t){var i=Cr(e,n,r)||e;if(i)return br(i,n,i[n],t)}return null}var _r="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",kr="http.method",Dr="https://dc.services.visualstudio.com",Pr="/v2/track",Er="not_specified";function Nr(e){var n=null;if(pe(Event))n=new Event(e);else{var t=un();t&&t.createEvent&&(n=t.createEvent("Event")).initEvent(e,!0,!0)}return n}var Mr="correlationHeaderExcludePatterns";function Lr(e,n){return void 0===n&&(n=!1),null==e?n:"true"===e.toString().toLowerCase()}function Ar(e){(isNaN(e)||e<0)&&(e=0);var n=""+(e=Math.round(e))%1e3,t=""+Math.floor(e/1e3)%60,r=""+Math.floor(e/6e4)%60,i=""+Math.floor(e/36e5)%24,a=Math.floor(e/864e5);return n=1===n.length?"00"+n:2===n.length?"0"+n:n,t=t.length<2?"0"+t:t,r=r.length<2?"0"+r:r,(a>0?a+".":"")+(i=i.length<2?"0"+i:i)+":"+r+":"+t+"."+n}var Rr,qr,Ur=(Rr={},ve({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]},(function(e,n){Rr[e]=n[1],Rr[n[0]]=n[1]})),Me(Rr)),Fr=Xe({LocalStorage:0,SessionStorage:1}),zr=void Xe({AI:0,AI_AND_W3C:1,W3C:2}),Hr=void 0;function Br(){return Or()?Vr(Fr.LocalStorage):null}function Vr(e){try{if(ce(U()))return null;var n=(new Date).toString(),t=rn(e===Fr.LocalStorage?"localStorage":"sessionStorage");t.setItem(n,n);var r=t.getItem(n)!==n;if(t.removeItem(n),!r)return t}catch(e){}return null}function jr(){return Kr()?Vr(Fr.SessionStorage):null}function Or(e){return(e||void 0===zr)&&(zr=!!Vr(Fr.LocalStorage)),zr}function Kr(e){return(e||void 0===Hr)&&(Hr=!!Vr(Fr.SessionStorage)),Hr}function Xr(e,n){var t=jr();if(null!==t)try{return t.getItem(n)}catch(n){Hr=!1,An(e,2,2,"Browser failed read of session storage. "+Re(n),{exception:yn(n)})}return null}function Gr(e,n,t){var r=jr();if(null!==r)try{return r.setItem(n,t),!0}catch(n){Hr=!1,An(e,2,4,"Browser failed write to session storage. "+Re(n),{exception:yn(n)})}return!1}function Yr(e,n,t){var r=n.length,i=Wr(e,n);if(i.length!==r){for(var a=0,o=i;void 0!==t[o];)a++,o=i.substring(0,147)+ii(a);i=o}return i}function Wr(e,n){var t;return n&&(n=ke(n.toString())).length>150&&(t=n.substring(0,150),An(e,2,57,"name is too long.  It has been truncated to 150 characters.",{name:n},!0)),t||n}function Jr(e,n,t){var r;return void 0===t&&(t=1024),n&&(t=t||1024,(n=ke(n)).toString().length>t&&(r=n.toString().substring(0,t),An(e,2,61,"string value is too long. It has been truncated to "+t+" characters.",{value:n},!0))),r||n}function $r(e,n){return ri(e,n,2048,66)}function Zr(e,n){var t;return n&&n.length>32768&&(t=n.substring(0,32768),An(e,2,56,"message is too long, it has been truncated to 32768 characters.",{message:n},!0)),t||n}function Qr(e,n){var t;if(n){var r=""+n;r.length>32768&&(t=r.substring(0,32768),An(e,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:n},!0))}return t||n}function ei(e,n){if(n){var t={};ve(n,(function(n,r){if(de(r)&&gn())try{r=vn().stringify(r)}catch(n){An(e,2,49,"custom property is not valid",{exception:n},!0)}r=Jr(e,r,8192),n=Yr(e,n,t),t[n]=r})),n=t}return n}function ni(e,n){if(n){var t={};ve(n,(function(n,r){n=Yr(e,n,t),t[n]=r})),n=t}return n}function ti(e,n){return n?ri(e,n,128,69).toString():n}function ri(e,n,t,r){var i;return n&&(n=ke(n)).length>t&&(i=n.substring(0,t),An(e,2,r,"input is too long, it has been truncated to "+t+" characters.",{data:n},!0)),i||n}function ii(e){var n="00"+e;return n.substr(n.length-3)}(qr={MAX_NAME_LENGTH:150,MAX_ID_LENGTH:128,MAX_PROPERTY_LENGTH:8192,MAX_STRING_LENGTH:1024,MAX_URL_LENGTH:2048,MAX_MESSAGE_LENGTH:32768,MAX_EXCEPTION_LENGTH:32768}).sanitizeKeyAndAddUniqueness=Yr,qr.sanitizeKey=Wr,qr.sanitizeString=Jr,qr.sanitizeUrl=$r,qr.sanitizeMessage=Zr,qr.sanitizeException=Qr,qr.sanitizeProperties=ei,qr.sanitizeMeasurements=ni,qr.sanitizeId=ti,qr.sanitizeInput=ri,qr.padNumber=ii,qr.trim=ke;var ai=un()||{},oi=0,si=[null,null,null,null,null];function ui(e){var n=oi,t=si,r=t[n];return ai.createElement?t[n]||(r=t[n]=ai.createElement("a")):r={host:ci(e,!0)},r.href=e,++n>=t.length&&(n=0),oi=n,r}function ci(e,n){var t=li(e,n)||"";if(t){var r=t.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(null!=r&&r.length>3&&xe(r[2])&&r[2].length>0)return r[2]+(r[3]||"")}return t}function li(e,n){var t=null;if(e){var r=e.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(null!=r&&r.length>2&&xe(r[2])&&r[2].length>0&&(t=r[2]||"",n&&r.length>2)){var i=(r[1]||"").toLowerCase(),a=r[3]||"";("http"===i&&":80"===a||"https"===i&&":443"===a)&&(a=""),t+=a}}return t}var fi=[Dr+Pr,"https://breeze.aimon.applicationinsights.io/v2/track","https://dc-int.services.visualstudio.com/v2/track"];function di(e){return-1!==Se(fi,e.toLowerCase())}var pi={correlationIdPrefix:"cid-v1:",canIncludeCorrelationHeader:function(e,n,t){if(!n||e&&e.disableCorrelationHeaders)return!1;if(e&&e[Mr])for(var r=0;r<e.correlationHeaderExcludePatterns.length;r++)if(e[Mr][r].test(n))return!1;var i=ui(n).host.toLowerCase();if(!i||-1===i.indexOf(":443")&&-1===i.indexOf(":80")||(i=(li(n,!0)||"").toLowerCase()),(!e||!e.enableCorsCorrelation)&&i&&i!==t)return!1;var a,o=e&&e.correlationHeaderDomains;if(o&&(we(o,(function(e){var n=new RegExp(e.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));a=a||n.test(i)})),!a))return!1;var s=e&&e.correlationHeaderExcludedDomains;if(!s||0===s.length)return!0;for(r=0;r<s.length;r++)if(new RegExp(s[r].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*")).test(i))return!1;return i&&i.length>0},getCorrelationContext:function(e){if(e){var n=pi.getCorrelationContextValue(e,Ur[1]);if(n&&n!==pi.correlationIdPrefix)return n}},getCorrelationContextValue:function(e,n){if(e)for(var t=e.split(","),r=0;r<t.length;++r){var i=t[r].split("=");if(2===i.length&&i[0]===n)return i[1]}}};function gi(){var e=pn();if(e&&e.now&&e.timing){var n=e.now()+e.timing.navigationStart;if(n>0)return n}return Ae()}function vi(e,n){var t=null;return 0===e||0===n||ce(e)||ce(n)||(t=n-e),t}function hi(e,n){var t=e||{};return{getName:function(){return t.name},setName:function(e){n&&n.setName(e),t.name=e},getTraceId:function(){return t.traceID},setTraceId:function(e){n&&n.setTraceId(e),Xt(e)&&(t.traceID=e)},getSpanId:function(){return t.parentID},setSpanId:function(e){n&&n.setSpanId(e),Gt(e)&&(t.parentID=e)},getTraceFlags:function(){return t.traceFlags},setTraceFlags:function(e){n&&n.setTraceFlags(e),t.traceFlags=e}}}var mi=function(e,n,t){var r=this,i=this;i.ver=1,i.sampleRate=100,i.tags={},i.name=Jr(e,t)||Er,i.data=n,i.time=be(new Date),i.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return 100===r.sampleRate?4:1},tags:1,data:1}},yi=function(){function e(e,n,t,r){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var i=this;i.ver=2,i.name=Jr(e,n)||Er,i.properties=ei(e,t),i.measurements=ni(e,r)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Event",e.dataType="EventData",e}();function xi(e,n){var t=e;return t&&!xe(t)&&(JSON&&JSON.stringify?(t=JSON.stringify(e),!n||t&&"{}"!==t||(t=pe(e.toString)?e.toString():""+e)):t=e+" - (Missing JSON.stringify)"),t||""}function Ii(e,n){var t=e;return e&&(t&&!xe(t)&&(t=e.message||e.description||t),t&&!xe(t)&&(t=xi(t,!0)),e.filename&&(t=t+" @"+(e.filename||"")+":"+(e.lineno||"?")+":"+(e.colno||"?"))),n&&"String"!==n&&"Object"!==n&&"Error"!==n&&-1===(t||"").indexOf(n)&&(t=n+": "+t),t||""}function Ti(e){return e&&e.src&&xe(e.src)&&e.obj&&me(e.obj)}function Ci(e){var n=e||"";xe(n)||(n=xe(n.stack)?n.stack:""+n);var t=n.split("\n");return{src:n,obj:t}}function bi(e){var n=null;if(e)try{if(e.stack)n=Ci(e.stack);else if(e.error&&e.error.stack)n=Ci(e.error.stack);else if(e.exception&&e.exception.stack)n=Ci(e.exception.stack);else if(Ti(e))n=e;else if(Ti(e.stackDetails))n=e.stackDetails;else if(window&&window.opera&&e.message)n=function(e){for(var n=[],t=e.split("\n"),r=0;r<t.length;r++){var i=t[r];t[r+1]&&(i+="@"+t[r+1],r++),n.push(i)}return{src:e,obj:n}}(e.message);else if(e.reason&&e.reason.stack)n=Ci(e.reason.stack);else if(xe(e))n=Ci(e);else{var t=e.message||e.description||"";xe(e.errorSrc)&&(t&&(t+="\n"),t+=" from "+e.errorSrc),t&&(n=Ci(t))}}catch(e){n=Ci(e)}return n||{src:"",obj:null}}function wi(e){var n="";if(e&&!(n=e.typeName||e.name||""))try{var t=/function (.{1,200})\(/.exec(e.constructor.toString());n=t&&t.length>1?t[1]:""}catch(e){}return n}function Si(e){if(e)try{if(!xe(e)){var n=wi(e),t=xi(e,!1);return t&&"{}"!==t||(e.error&&(n=wi(e=e.error)),t=xi(e,!0)),0!==t.indexOf(n)&&"String"!==n?n+":"+t:t}}catch(e){}return""+(e||"")}var _i=function(){function e(e,n,t,r,i,a){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var o=this;o.ver=2,function(e){try{if(de(e))return"ver"in e&&"exceptions"in e&&"properties"in e}catch(e){}return!1}(n)?(o.exceptions=n.exceptions||[],o.properties=n.properties,o.measurements=n.measurements,n.severityLevel&&(o.severityLevel=n.severityLevel),n.id&&(o.id=n.id),n.problemGroup&&(o.problemGroup=n.problemGroup),ce(n.isManual)||(o.isManual=n.isManual)):(t||(t={}),o.exceptions=[new ki(e,n,t)],o.properties=ei(e,t),o.measurements=ni(e,r),i&&(o.severityLevel=i),a&&(o.id=a))}return e.CreateAutoException=function(e,n,t,r,i,a,o,s){var u,c=wi(i||a||e);return(u={}).message=Ii(e,c),u.url=n,u.lineNumber=t,u.columnNumber=r,u.error=Si(i||a||e),u.evt=Si(a||e),u.typeName=c,u.stackDetails=bi(o||i||a),u.errorSrc=s,u},e.CreateFromInterface=function(n,t,r,i){var a=t.exceptions&&_e(t.exceptions,(function(e){return ki.CreateFromInterface(n,e)}));return new e(n,H(H({},t),{exceptions:a}),r,i)},e.prototype.toInterface=function(){var e,n=this,t=n.exceptions,r=n.properties,i=n.measurements,a=n.severityLevel,o=n.problemGroup,s=n.id,u=n.isManual,c=t instanceof Array&&_e(t,(function(e){return e.toInterface()}))||void 0;return(e={ver:"4.0"}).exceptions=c,e.severityLevel=a,e.properties=r,e.measurements=i,e.problemGroup=o,e.id=s,e.isManual=u,e},e.CreateSimpleException=function(e,n,t,r,i,a){var o;return{exceptions:[(o={},o.hasFullStack=!0,o.message=e,o.stack=i,o.typeName=n,o)]}},e.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",e.dataType="ExceptionData",e.formatError=Si,e}(),ki=function(){function e(e,n,t){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var r=this;if(function(e){try{if(de(e))return"hasFullStack"in e&&"typeName"in e}catch(e){}return!1}(n))r.typeName=n.typeName,r.message=n.message,r.stack=n.stack,r.parsedStack=n.parsedStack||[],r.hasFullStack=n.hasFullStack;else{var i=n,a=i&&i.evt;ye(i)||(i=i.error||a||i),r.typeName=Jr(e,wi(i))||Er,r.message=Zr(e,Ii(n||i,r.typeName))||Er;var o=n.stackDetails||bi(n);r.parsedStack=function(e){var n,t=e.obj;if(t&&t.length>0){n=[];var r=0,i=0;if(we(t,(function(e){var t=e.toString();if(Di.regex.test(t)){var a=new Di(t,r++);i+=a.sizeInBytes,n.push(a)}})),i>32768)for(var a=0,o=n.length-1,s=0,u=a,c=o;a<o;){if((s+=n[a].sizeInBytes+n[o].sizeInBytes)>32768){var l=c-u+1;n.splice(u,l);break}u=a,c=o,a++,o--}}return n}(o),r.stack=Qr(e,function(e){var n="";return e&&(e.obj?we(e.obj,(function(e){n+=e+"\n"})):n=e.src||""),n}(o)),r.hasFullStack=me(r.parsedStack)&&r.parsedStack.length>0,t&&(t.typeName=t.typeName||r.typeName)}}return e.prototype.toInterface=function(){var e,n=this,t=n.parsedStack instanceof Array&&_e(n.parsedStack,(function(e){return e.toInterface()}));return(e={id:n.id,outerId:n.outerId,typeName:n.typeName,message:n.message,hasFullStack:n.hasFullStack,stack:n.stack}).parsedStack=t||void 0,e},e.CreateFromInterface=function(n,t){var r=t.parsedStack instanceof Array&&_e(t.parsedStack,(function(e){return Di.CreateFromInterface(e)}))||t.parsedStack;return new e(n,H(H({},t),{parsedStack:r}))},e}(),Di=function(){function e(n,t){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var r=this;if(r.sizeInBytes=0,"string"==typeof n){var i=n;r.level=t,r.method="<no_method>",r.assembly=ke(i),r.fileName="",r.line=0;var a=i.match(e.regex);a&&a.length>=5&&(r.method=ke(a[2])||r.method,r.fileName=ke(a[4]),r.line=parseInt(a[5])||0)}else r.level=n.level,r.method=n.method,r.assembly=n.assembly,r.fileName=n.fileName,r.line=n.line,r.sizeInBytes=0;r.sizeInBytes+=r.method.length,r.sizeInBytes+=r.fileName.length,r.sizeInBytes+=r.assembly.length,r.sizeInBytes+=e.baseSize,r.sizeInBytes+=r.level.toString().length,r.sizeInBytes+=r.line.toString().length}return e.CreateFromInterface=function(n){return new e(n,null)},e.prototype.toInterface=function(){var e=this;return{level:e.level,method:e.method,assembly:e.assembly,fileName:e.fileName,line:e.line}},e.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,e.baseSize=58,e}(),Pi=function(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0},Ei=function(){function e(e,n,t,r,i,a,o,s,u){this.aiDataContract={ver:1,metrics:1,properties:0};var c=this;c.ver=2;var l=new Pi;l.count=r>0?r:void 0,l.max=isNaN(a)||null===a?void 0:a,l.min=isNaN(i)||null===i?void 0:i,l.name=Jr(e,n)||Er,l.value=t,l.stdDev=isNaN(o)||null===o?void 0:o,c.metrics=[l],c.properties=ei(e,s),c.measurements=ni(e,u)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",e.dataType="MetricData",e}(),Ni=function(){function e(e,n,t,r,i,a,o){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var s=this;s.ver=2,s.id=ti(e,o),s.url=$r(e,t),s.name=Jr(e,n)||Er,isNaN(r)||(s.duration=Ar(r)),s.properties=ei(e,i),s.measurements=ni(e,a)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",e.dataType="PageviewData",e}(),Mi=function(){function e(e,n,t,r,i,a,o,s,u,c,l,f){void 0===u&&(u="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var d=this;d.ver=2,d.id=n,d.duration=Ar(i),d.success=a,d.resultCode=o+"",d.type=Jr(e,u);var p=function(e,n,t,r){var i,a=r,o=r;if(n&&n.length>0){var s=ui(n);if(i=s.host,!a)if(null!=s.pathname){var u=0===s.pathname.length?"/":s.pathname;"/"!==u.charAt(0)&&(u="/"+u),o=s.pathname,a=Jr(e,t?t+" "+u:u)}else a=Jr(e,n)}else i=r,a=r;return{target:i,name:a,data:o}}(e,t,s,r);d.data=$r(e,r)||p.data,d.target=Jr(e,p.target),c&&(d.target="".concat(d.target," | ").concat(c)),d.name=Jr(e,p.name),d.properties=ei(e,l),d.measurements=ni(e,f)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",e.dataType="RemoteDependencyData",e}(),Li=function(){function e(e,n,t,r,i){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var a=this;a.ver=2,n=n||Er,a.message=Zr(e,n),a.properties=ei(e,r),a.measurements=ni(e,i),t&&(a.severityLevel=t)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Message",e.dataType="MessageData",e}(),Ai=function(){function e(e,n,t,r,i,a,o){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var s=this;s.ver=2,s.url=$r(e,t),s.name=Jr(e,n)||Er,s.properties=ei(e,i),s.measurements=ni(e,a),o&&(s.domProcessing=o.domProcessing,s.duration=o.duration,s.networkConnect=o.networkConnect,s.perfTotal=o.perfTotal,s.receivedResponse=o.receivedResponse,s.sentRequest=o.sentRequest)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",e.dataType="PageviewPerformanceData",e}(),Ri=function(e,n){this.aiDataContract={baseType:1,baseData:1},this.baseType=e,this.baseData=n};function qi(e){var n="ai."+e+".";return function(e){return n+e}}var Ui,Fi=qi("application"),zi=qi("device"),Hi=qi("location"),Bi=qi("operation"),Vi=qi("session"),ji=qi("user"),Oi=qi("cloud"),Ki=qi("internal"),Xi=function(e){function n(){return e.call(this)||this}return V(n,e),n}((Ui={applicationVersion:Fi("ver"),applicationBuild:Fi("build"),applicationTypeId:Fi("typeId"),applicationId:Fi("applicationId"),applicationLayer:Fi("layer"),deviceId:zi("id"),deviceIp:zi("ip"),deviceLanguage:zi("language"),deviceLocale:zi("locale"),deviceModel:zi("model"),deviceFriendlyName:zi("friendlyName"),deviceNetwork:zi("network"),deviceNetworkName:zi("networkName"),deviceOEMName:zi("oemName"),deviceOS:zi("os"),deviceOSVersion:zi("osVersion"),deviceRoleInstance:zi("roleInstance"),deviceRoleName:zi("roleName"),deviceScreenResolution:zi("screenResolution"),deviceType:zi("type"),deviceMachineName:zi("machineName"),deviceVMName:zi("vmName"),deviceBrowser:zi("browser"),deviceBrowserVersion:zi("browserVersion"),locationIp:Hi("ip"),locationCountry:Hi("country"),locationProvince:Hi("province"),locationCity:Hi("city"),operationId:Bi("id"),operationName:Bi("name"),operationParentId:Bi("parentId"),operationRootId:Bi("rootId"),operationSyntheticSource:Bi("syntheticSource"),operationCorrelationVector:Bi("correlationVector"),sessionId:Vi("id"),sessionIsFirst:Vi("isFirst"),sessionIsNew:Vi("isNew"),userAccountAcquisitionDate:ji("accountAcquisitionDate"),userAccountId:ji("accountId"),userAgent:ji("userAgent"),userId:ji("id"),userStoreRegion:ji("storeRegion"),userAuthUserId:ji("authUserId"),userAnonymousUserAcquisitionDate:ji("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:ji("authUserAcquisitionDate"),cloudName:Oi("name"),cloudRole:Oi("role"),cloudRoleVer:Oi("roleVer"),cloudRoleInstance:Oi("roleInstance"),cloudEnvironment:Oi("environment"),cloudLocation:Oi("location"),cloudDeploymentUnit:Oi("deploymentUnit"),internalNodeName:Ki("nodeName"),internalSdkVersion:Ki("sdkVersion"),internalAgentVersion:Ki("agentVersion"),internalSnippet:Ki("snippet"),internalSdkSrc:Ki("sdkSrc")},function(){var e=this;Ui&&ve(Ui,(function(n,t){e[n]=t}))}));function Gi(e,n,t,r,i,a){var o;t=Jr(r,t)||Er,(ce(e)||ce(n)||ce(t))&&He("Input doesn't contain all required fields");var s="";e.iKey&&(s=e.iKey,delete e.iKey);var u=((o={}).name=t,o.time=be(new Date),o.iKey=s,o.ext=a||{},o.tags=[],o.data={},o.baseType=n,o.baseData=e,o);return ce(i)||ve(i,(function(e,n){u.data[e]=n})),u}var Yi="user",Wi="device",Ji="trace",$i=new Xi,Zi="AppInsightsPropertiesPlugin",Qi="AppInsightsChannelPlugin",ea="enableUnhandledPromiseRejectionTracking",na="isBrowserLinkTrackingEnabled",ta="sendPageViewPerformanceInternal",ra="populatePageViewPerformanceEvent",ia=function(){function e(n,t,r,i){_(e,this,(function(e){var a,o=null,s=[],u=!1;function c(e){r&&r.flush(e)}r&&(a=r.logger),e.trackPageView=function(e,r){var l=e.name;if(ce(l)||"string"!=typeof l){var f=un();l=e.name=f&&f.title||""}var d=e.uri;if(ce(d)||"string"!=typeof d){var p=dn();d=e.uri=p&&p.href||""}if(!i.isPerformanceTimingSupported())return n.sendPageViewInternal(e,r),c(!0),void An(a,2,25,"trackPageView: navigation timing API used for calculation of page duration is not supported in this browser. This page view will be collected without duration and timing info.");var g,v,h,m=!1,y=i.getPerformanceTiming().navigationStart;y>0&&(g=vi(y,+new Date),i.shouldCollectDuration(g)||(g=void 0)),ce(r)||ce(r.duration)||(v=r.duration),!t&&isNaN(v)||(isNaN(v)&&(r||(r={}),r.duration=g),n.sendPageViewInternal(e,r),c(!0),m=!0),r||(r={}),h=function(){var t=!1;try{if(i.isPerformanceTimingDataReady()){t=!0;var o={name:l,uri:d};i[ra](o),o.isValid||m?(m||(r.duration=o.durationMs,n.sendPageViewInternal(e,r)),u||(n[ta](o,r),u=!0)):(r.duration=g,n.sendPageViewInternal(e,r))}else y>0&&vi(y,+new Date)>6e4&&(t=!0,m||(r.duration=6e4,n.sendPageViewInternal(e,r)))}catch(e){An(a,1,38,"trackPageView failed on page load calculation: "+Re(e),{exception:yn(e)})}return t},s.push(h),o||(o=setInterval((function(){var e=s.slice(0),n=!1;s=[],we(e,(function(e){e()?n=!0:s.push(e)})),0===s.length&&(clearInterval(o),o=null),n&&c(!0)}),100))},e.teardown=function(e,n){if(o){clearInterval(o),o=null;var t=s.slice(0);s=[],we(t,(function(e){e()}))}}}))}return e.__ieDyn=1,e}(),aa=36e5,oa=["googlebot","adsbot-google","apis-google","mediapartners-google"];function sa(){var e=pn();return e&&!!e.timing}function ua(){var e=pn(),n=e?e.timing:0;return n&&n.domainLookupStart>0&&n.navigationStart>0&&n.responseStart>0&&n.requestStart>0&&n.loadEventEnd>0&&n.responseEnd>0&&n.connectEnd>0&&n.domLoading>0}function ca(){return sa()?pn().timing:null}function la(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var t=ln()||{},r=t.userAgent,i=!1;if(r)for(var a=0;a<oa.length;a++)i=i||-1!==r.toLowerCase().indexOf(oa[a]);if(i)return!1;for(a=0;a<e.length;a++)if(e[a]<0||e[a]>=aa)return!1;return!0}var fa=function(){function e(n){var t=this,r=Nn(n);_(e,this,(function(e){e[ra]=function(e){e.isValid=!1;var n,i=(n=pn())&&n.getEntriesByType&&n.getEntriesByType("navigation").length>0?pn().getEntriesByType("navigation")[0]:null,a=ca(),o=0,s=0,u=0,c=0,l=0;(i||a)&&(i?(o=i.duration,s=0===i.startTime?i.connectEnd:vi(i.startTime,i.connectEnd),u=vi(i.requestStart,i.responseStart),c=vi(i.responseStart,i.responseEnd),l=vi(i.responseEnd,i.loadEventEnd)):(o=vi(a.navigationStart,a.loadEventEnd),s=vi(a.navigationStart,a.connectEnd),u=vi(a.requestStart,a.responseStart),c=vi(a.responseStart,a.responseEnd),l=vi(a.responseEnd,a.loadEventEnd)),0===o?An(r,2,10,"error calculating page view performance.",{total:o,network:s,request:u,response:c,dom:l}):t.shouldCollectDuration(o,s,u,c,l)?o<Math.floor(s)+Math.floor(u)+Math.floor(c)+Math.floor(l)?An(r,2,8,"client performance math error.",{total:o,network:s,request:u,response:c,dom:l}):(e.durationMs=o,e.perfTotal=e.duration=Ar(o),e.networkConnect=Ar(s),e.sentRequest=Ar(u),e.receivedResponse=Ar(c),e.domProcessing=Ar(l),e.isValid=!0):An(r,2,45,"Invalid page load duration value. Browser perf data won't be sent.",{total:o,network:s,request:u,response:c,dom:l}))},e.getPerformanceTiming=ca,e.isPerformanceTimingSupported=sa,e.isPerformanceTimingDataReady=ua,e.shouldCollectDuration=la}))}return e.__ieDyn=1,e}(),da=function(){function e(n,t){var r="prevPageVisitData";_(e,this,(function(e){e.trackPreviousPageVisit=function(e,i){try{var a=function(e,t){var i=null;try{i=function(){var e=null;try{if(Kr()){var t=Ae(),i=Xr(n,r);i&&gn()&&((e=vn().parse(i)).pageVisitTime=t-e.pageVisitStartTime,function(e,n){var t=jr();if(null!==t)try{t.removeItem("prevPageVisitData")}catch(n){Hr=!1,An(e,2,6,"Browser failed removal of session storage item. "+Re(n),{exception:yn(n)})}}(n))}}catch(t){Rn(n,"Stop page visit timer failed: "+yn(t)),e=null}return e}(),function(e,t){try{if(Kr()){null!=Xr(n,r)&&He("Cannot call startPageVisit consecutively without first calling stopPageVisit");var i=new pa(e,t),a=vn().stringify(i);Gr(n,r,a)}}catch(e){Rn(n,"Call to start failed: "+yn(e))}}(e,t)}catch(e){Rn(n,"Call to restart failed: "+yn(e)),i=null}return i}(e,i);a&&t(a.pageName,a.pageUrl,a.pageVisitTime)}catch(e){Rn(n,"Auto track page visit time failed, metric will not be collected: "+yn(e))}},Ne(e,"_logger",(function(){return n})),Ne(e,"pageVisitTimeTrackingHandler",(function(){return t}))}))}return e.__ieDyn=1,e}(),pa=function(e,n){this.pageVisitStartTime=Ae(),this.pageName=e,this.pageUrl=n},ga=function(e,n){var t=this,r={};t.start=function(n){void 0!==r[n]&&An(e,2,62,"start was called more than once for this event without calling stop.",{name:n,key:n},!0),r[n]=+new Date},t.stop=function(n,i,a,o){var s=r[n];if(isNaN(s))An(e,2,63,"stop was called without a corresponding start.",{name:n,key:n},!0);else{var u=vi(s,+new Date);t.action(n,i,u,a,o)}delete r[n],r[n]=void 0}};function va(e,n){e&&e.dispatchEvent&&n&&e.dispatchEvent(n)}function ha(e,n){return(e=e||n)<6e4&&(e=6e4),e}function ma(e){return e||(e={}),e.sessionRenewalMs=ha(e.sessionRenewalMs,18e5),e.sessionExpirationMs=ha(e.sessionExpirationMs,864e5),e.disableExceptionTracking=Lr(e.disableExceptionTracking),e.autoTrackPageVisitTime=Lr(e.autoTrackPageVisitTime),e.overridePageViewDuration=Lr(e.overridePageViewDuration),e[ea]=Lr(e[ea]),(isNaN(e.samplingPercentage)||e.samplingPercentage<=0||e.samplingPercentage>=100)&&(e.samplingPercentage=100),e.isStorageUseDisabled=Lr(e.isStorageUseDisabled),e[na]=Lr(e[na]),e.enableAutoRouteTracking=Lr(e.enableAutoRouteTracking),e.namePrefix=e.namePrefix||"",e.enableDebug=Lr(e.enableDebug),e.disableFlushOnBeforeUnload=Lr(e.disableFlushOnBeforeUnload),e.disableFlushOnUnload=Lr(e.disableFlushOnUnload,e.disableFlushOnBeforeUnload),e}var ya=function(e){function n(){var t,r,i,a,o,s,u,c,l,f,d,p,g,v,h,m,y,x=e.call(this)||this;return x.identifier="ApplicationInsightsAnalytics",x.priority=180,x.autoRoutePVDelay=500,_(n,x,(function(e,n){var I=n._addHook;function T(n,t,r,i,a){e.diagLog().throwInternal(n,t,r,i,a)}function C(){t=null,r=null,i=null,a=null,o=null,s=null,u=!1,c=!1,l=!1,f=!1,d=!1,p=!1,g=!1,v=!1;var e=dn();h=e&&e.href||"",m=null,y=null}C(),e.getCookieMgr=function(){return ct(e.core)},e.processTelemetry=function(n,t){e.processNext(n,t)},e.trackEvent=function(n,t){try{var r=Gi(n,yi.dataType,yi.envelopeType,e.diagLog(),t);e.core.track(r)}catch(e){T(2,39,"trackTrace failed, trace will not be collected: "+Re(e),{exception:yn(e)})}},e.startTrackEvent=function(e){try{t.start(e)}catch(e){T(1,29,"startTrackEvent failed, event will not be collected: "+Re(e),{exception:yn(e)})}},e.stopTrackEvent=function(e,n,r){try{t.stop(e,void 0,n,r)}catch(e){T(1,30,"stopTrackEvent failed, event will not be collected: "+Re(e),{exception:yn(e)})}},e.trackTrace=function(n,t){try{var r=Gi(n,Li.dataType,Li.envelopeType,e.diagLog(),t);e.core.track(r)}catch(e){T(2,39,"trackTrace failed, trace will not be collected: "+Re(e),{exception:yn(e)})}},e.trackMetric=function(n,t){try{var r=Gi(n,Ei.dataType,Ei.envelopeType,e.diagLog(),t);e.core.track(r)}catch(e){T(1,36,"trackMetric failed, metric will not be collected: "+Re(e),{exception:yn(e)})}},e.trackPageView=function(n,t){try{var r=n||{};i.trackPageView(r,H(H(H({},r.properties),r.measurements),t)),e.config.autoTrackPageVisitTime&&o.trackPreviousPageVisit(r.name,r.uri)}catch(e){T(1,37,"trackPageView failed, page view will not be collected: "+Re(e),{exception:yn(e)})}},e.sendPageViewInternal=function(n,t,r){var i=un();i&&(n.refUri=void 0===n.refUri?i.referrer:n.refUri);var a=Gi(n,Ni.dataType,Ni.envelopeType,e.diagLog(),t,r);e.core.track(a)},e[ta]=function(n,t,r){var i=Gi(n,Ai.dataType,Ai.envelopeType,e.diagLog(),t,r);e.core.track(i)},e.trackPageViewPerformance=function(n,t){var r=n||{};try{a[ra](r),e[ta](r,t)}catch(e){T(1,37,"trackPageViewPerformance failed, page view will not be collected: "+Re(e),{exception:yn(e)})}},e.startTrackPage=function(e){try{if("string"!=typeof e){var n=un();e=n&&n.title||""}r.start(e)}catch(e){T(1,31,"startTrackPage failed, page view may not be collected: "+Re(e),{exception:yn(e)})}},e.stopTrackPage=function(n,t,i,a){try{if("string"!=typeof n){var s=un();n=s&&s.title||""}if("string"!=typeof t){var u=dn();t=u&&u.href||""}r.stop(n,t,i,a),e.config.autoTrackPageVisitTime&&o.trackPreviousPageVisit(n,t)}catch(e){T(1,32,"stopTrackPage failed, page view will not be collected: "+Re(e),{exception:yn(e)})}},e.sendExceptionInternal=function(n,t,r){var i=n.exception||n.error||new Error(Er),a=Gi(new _i(e.diagLog(),i,n.properties||t,n.measurements,n.severityLevel,n.id).toInterface(),_i.dataType,_i.envelopeType,e.diagLog(),t,r);e.core.track(a)},e.trackException=function(n,t){n&&!n.exception&&n.error&&(n.exception=n.error);try{e.sendExceptionInternal(n,t)}catch(e){T(1,35,"trackException failed, exception will not be collected: "+Re(e),{exception:yn(e)})}},e._onerror=function(n){var t=n&&n.error,r=n&&n.evt;try{if(!r){var i=on();i&&(r=i.event)}var a=n&&n.url||(un()||{}).URL,o=n.errorSrc||"window.onerror@"+a+":"+(n.lineNumber||0)+":"+(n.columnNumber||0),s={errorSrc:o,url:a,lineNumber:n.lineNumber||0,columnNumber:n.columnNumber||0,message:n.message};!function(e,n,t,r,i){return!i&&xe(e)&&("Script error."===e||"Script error"===e)}(n.message,n.url,n.lineNumber,n.columnNumber,n.error)?(n.errorSrc||(n.errorSrc=o),e.trackException({exception:n,severityLevel:3},s)):function(n,t){var r=Gi(n,_i.dataType,_i.envelopeType,e.diagLog(),t);e.core.track(r)}(_i.CreateAutoException("Script error: The browser's same-origin policy prevents us from getting the details of this exception. Consider using the 'crossorigin' attribute.",a,n.lineNumber||0,n.columnNumber||0,t,r,null,o),s)}catch(e){var u=t?t.name+", "+t.message:"null";T(1,11,"_onError threw exception while logging error, error will not be collected: "+Re(e),{exception:yn(e),errorString:u})}},e.addTelemetryInitializer=function(n){if(e.core)return e.core.addTelemetryInitializer(n);s||(s=[]),s.push(n)},e.initialize=function(T,C,b,w){if(!e.isInitialized()){ce(C)&&He("Error initializing"),n.initialize(T,C,b,w);try{y=Lt($n(e.identifier),C.evtNamespace&&C.evtNamespace()),s&&(we(s,(function(e){C.addTelemetryInitializer(e)})),s=null);var S=function(n){var t=nr(null,n,e.core),r=e.identifier,i=ma(n),a=e.config=t.getExtCfg(r);return void 0!==i&&ve(i,(function(e,n){a[e]=t.getConfig(r,e,n),void 0===a[e]&&(a=n)})),a}(T);(function(e){ue(e.isStorageUseDisabled)||(e.isStorageUseDisabled?(zr=!1,Hr=!1):(zr=Or(!0),Hr=Kr(!0)))})(S),a=new fa(e.core),i=new ia(x,S.overridePageViewDuration,e.core,a),o=new da(e.diagLog(),(function(n,t,r){return function(n,t,r){var i={PageName:n,PageUrl:t};e.trackMetric({name:"PageVisitTime",average:r,max:r,min:r,sampleCount:1},i)}(n,t,r)})),function(n,t){u=n[na]||t[na],function(){if(!c&&u){var n=["/browserLinkSignalR/","/__browserLink/"];e.addTelemetryInitializer((function(e){if(u&&e.baseType===Mi.dataType){var t=e.baseData;if(t)for(var r=0;r<n.length;r++)if(t.target&&t.target.indexOf(n[r])>=0)return!1}return!0})),c=!0}}()}(S,T),(t=new ga(e.diagLog(),"trackEvent")).action=function(n,t,r,i,a){i||(i={}),a||(a={}),i.duration=r.toString(),e.trackEvent({name:n,properties:i,measurements:a})},(r=new ga(e.diagLog(),"trackPageView")).action=function(n,t,r,i,a){ce(i)&&(i={}),i.duration=r.toString();var o={name:n,uri:t,properties:i,measurements:a};e.sendPageViewInternal(o,i)},an()&&(function(n){var t=on(),r=dn();(d=n.disableExceptionTracking)||p||n.autoExceptionInstrumented||(I(Sr(t,"onerror",{ns:y,rsp:function(n,t,r,i,a,o){d||!0===n.rslt||e._onerror(_i.CreateAutoException(t,r,i,a,o,n.evt))}},!1)),p=!0),function(n,t,r){(g=!0===n[ea])&&!v&&(I(Sr(t,"onunhandledrejection",{ns:y,rsp:function(n,t){g&&!0!==n.rslt&&e._onerror(_i.CreateAutoException(function(e){if(e&&e.reason){var n=e.reason;return!xe(n)&&pe(n.toString)?n.toString():yn(n)}return e||""}(t),r?r.href:"",0,0,t,n.evt))}},!1)),v=!0,n.autoUnhandledPromiseInstrumented=v)}(n,t,r)}(S),function(n){var t=on(),r=dn();if(l=!0===n.enableAutoRouteTracking,t&&l&&fn()){var i=fn()?history:rn("history");pe(i.pushState)&&pe(i.replaceState)&&typeof Event!==P&&function(n,t,r,i){var a=n.namePrefix||"";f||(I(Sr(r,"pushState",{ns:y,rsp:function(){l&&(va(t,Nr(a+"pushState")),va(t,Nr(a+"locationchange")))}},!0)),I(Sr(r,"replaceState",{ns:y,rsp:function(){l&&(va(t,Nr(a+"replaceState")),va(t,Nr(a+"locationchange")))}},!0)),At(t,a+"popstate",(function(){l&&va(t,Nr(a+"locationchange"))}),y),At(t,a+"locationchange",(function(){if(m?(h=m,m=i&&i.href||""):m=i&&i.href||"",l){var n=function(){var n=null;if(e.core&&e.core.getTraceCtx&&(n=e.core.getTraceCtx(!1)),!n){var t=e.core.getPlugin(Zi);if(t){var r=t.plugin.context;r&&(n=hi(r.telemetryTrace))}}return n}();if(n){n.setTraceId(zt());var t="_unknown_";i&&i.pathname&&(t=i.pathname+(i.hash||"")),n.setName(Jr(e.diagLog(),t))}setTimeout(function(n){e.trackPageView({refUri:n,properties:{duration:0}})}.bind(this,h),e.autoRoutePVDelay)}}),y),f=!0)}(n,t,i,r)}}(S))}catch(n){throw e.setInitialized(!1),n}}},e._doTeardown=function(e,n){i&&i.teardown(e,n),Rt(window,null,null,y),C()},Ne(e,"_pageViewManager",(function(){return i})),Ne(e,"_pageViewPerformanceManager",(function(){return a})),Ne(e,"_pageVisitTimeManager",(function(){return o})),Ne(e,"_evtNamespace",(function(){return"."+y}))})),x}return V(n,e),n.Version="2.8.9",n.getDefaultConfig=ma,n}(ur),xa="disableInstrumentationKeyValidation",Ia="true";function Ta(e,n,t){return qe(e,n,t,ze)}function Ca(e,n,t){ce(e)||ve(e,(function(e,r){Ie(r)?t[e]=r:xe(r)?n[e]=r:gn()&&(n[e]=vn().stringify(r))}))}function ba(e,n){ce(e)||ve(e,(function(t,r){e[t]=r||n}))}function wa(e,n,t,r){var i=new mi(e,r,n);Ta(i,"sampleRate",t.sampleRate),(t.baseData||{}).startTime&&(i.time=be(t.baseData.startTime)),i.iKey=t.iKey;var a=t.iKey.replace(/-/g,"");return i.name=i.name.replace("{0}",a),function(e,n,t){var r=t.tags=t.tags||{},i=n.ext=n.ext||{},a=n.tags=n.tags||[],o=i.user;o&&(Ta(r,$i.userAuthUserId,o.authId),Ta(r,$i.userId,o.id||o.localId));var s=i.app;s&&Ta(r,$i.sessionId,s.sesId);var u=i.device;u&&(Ta(r,$i.deviceId,u.id||u.localId),Ta(r,$i.deviceType,u.deviceClass),Ta(r,$i.deviceIp,u.ip),Ta(r,$i.deviceModel,u.model),Ta(r,$i.deviceType,u.deviceType));var c=n.ext.web;if(c){Ta(r,$i.deviceLanguage,c.browserLang),Ta(r,$i.deviceBrowserVersion,c.browserVer),Ta(r,$i.deviceBrowser,c.browser);var l=t.data=t.data||{},f=l.baseData=l.baseData||{},d=f.properties=f.properties||{};Ta(d,"domain",c.domain),Ta(d,"isManual",c.isManual?Ia:null),Ta(d,"screenRes",c.screenRes),Ta(d,"userConsent",c.userConsent?Ia:null)}var p=i.os;p&&Ta(r,$i.deviceOS,p.name);var g=i.trace;g&&(Ta(r,$i.operationParentId,g.parentID),Ta(r,$i.operationName,Jr(e,g.name)),Ta(r,$i.operationId,g.traceID));for(var v={},h=a.length-1;h>=0;h--)ve(a[h],(function(e,n){v[e]=n})),a.splice(h,1);ve(a,(function(e,n){v[e]=n}));var m=H(H({},r),v);m[$i.internalSdkVersion]||(m[$i.internalSdkVersion]="javascript:".concat(_a.Version)),t.tags=Oe(m)}(e,t,i),t.tags=t.tags||[],Oe(i)}function Sa(e,n){ce(n.baseData)&&An(e,1,46,"telemetryItem.baseData cannot be null.")}var _a={Version:"2.8.9"};function ka(e,n,t){Sa(e,n);var r={},i={};n.baseType!==yi.dataType&&(r.baseTypeSource=n.baseType),n.baseType===yi.dataType?(r=n.baseData.properties||{},i=n.baseData.measurements||{}):n.baseData&&Ca(n.baseData,r,i),Ca(n.data,r,i),ce(t)||ba(r,t);var a=n.baseData.name,o=new yi(e,a,r,i),s=new Ri(yi.dataType,o);return wa(e,yi.envelopeType,n,s)}function Da(e,n){Rt(e,null,null,n)}var Pa,Ea=function(){function e(n,t){var r=[],i=!1;this._get=function(){return r},this._set=function(e){return r=e},_(e,this,(function(e){e.enqueue=function(a){e.count()>=t.eventsLimitInMem()?i||(An(n,2,105,"Maximum in-memory buffer size reached: "+e.count(),!0),i=!0):r.push(a)},e.count=function(){return r.length},e.size=function(){for(var e=r.length,n=0;n<r.length;n++)e+=r[n].length;return t.emitLineDelimitedJson()||(e+=2),e},e.clear=function(){r=[],i=!1},e.getItems=function(){return r.slice(0)},e.batchPayloads=function(e){return e&&e.length>0?t.emitLineDelimitedJson()?e.join("\n"):"["+e.join(",")+"]":null}}))}return e.__ieDyn=1,e}(),Na=function(e){function n(t,r){var i=e.call(this,t,r)||this;return _(n,i,(function(e,n){e.markAsSent=function(e){n.clear()},e.clearSent=function(e){}})),i}return V(n,e),n.__ieDyn=1,n}(Ea),Ma=function(e){function n(t,r){var i=e.call(this,t,r)||this,a=!1;return _(n,i,(function(e,i){var o=l(n.BUFFER_KEY),s=l(n.SENT_BUFFER_KEY),u=e._set(o.concat(s));function c(e,n){var t=[];return we(n,(function(n){pe(n)||-1!==Se(e,n)||t.push(n)})),t}function l(e){var n=e;try{n=r.namePrefix&&r.namePrefix()?r.namePrefix()+"_"+n:n;var i=Xr(t,n);if(i){var a=vn().parse(i);if(xe(a)&&(a=vn().parse(a)),a&&me(a))return a}}catch(e){An(t,1,42," storage key: "+n+", "+Re(e),{exception:yn(e)})}return[]}function f(e,n){var i=e;try{i=r.namePrefix&&r.namePrefix()?r.namePrefix()+"_"+i:i;var a=JSON.stringify(n);Gr(t,i,a)}catch(e){Gr(t,i,JSON.stringify([])),An(t,2,41," storage key: "+i+", "+Re(e)+". Buffer cleared",{exception:yn(e)})}}u.length>n.MAX_BUFFER_SIZE&&(u.length=n.MAX_BUFFER_SIZE),f(n.SENT_BUFFER_KEY,[]),f(n.BUFFER_KEY,u),e.enqueue=function(r){e.count()>=n.MAX_BUFFER_SIZE?a||(An(t,2,67,"Maximum buffer size reached: "+e.count(),!0),a=!0):(i.enqueue(r),f(n.BUFFER_KEY,e._get()))},e.clear=function(){i.clear(),f(n.BUFFER_KEY,e._get()),f(n.SENT_BUFFER_KEY,[]),a=!1},e.markAsSent=function(r){f(n.BUFFER_KEY,e._set(c(r,e._get())));var i=l(n.SENT_BUFFER_KEY);i instanceof Array&&r instanceof Array&&((i=i.concat(r)).length>n.MAX_BUFFER_SIZE&&(An(t,1,67,"Sent buffer reached its maximum size: "+i.length,!0),i.length=n.MAX_BUFFER_SIZE),f(n.SENT_BUFFER_KEY,i))},e.clearSent=function(e){var t=l(n.SENT_BUFFER_KEY);t=c(e,t),f(n.SENT_BUFFER_KEY,t)}})),i}return V(n,e),n.BUFFER_KEY="AI_buffer",n.SENT_BUFFER_KEY="AI_sentBuffer",n.MAX_BUFFER_SIZE=2e3,n}(Ea),La=function(){function e(n){_(e,this,(function(e){function t(e,a){var o={};if(!e)return An(n,1,48,"cannot serialize object because it is null or undefined",{name:a},!0),o;if(e.__aiCircularRefCheck)return An(n,2,50,"Circular reference detected while serializing object",{name:a},!0),o;if(!e.aiDataContract){if("measurements"===a)o=i(e,"number",a);else if("properties"===a)o=i(e,"string",a);else if("tags"===a)o=i(e,"string",a);else if(me(e))o=r(e,a);else{An(n,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:a},!0);try{vn().stringify(e),o=e}catch(e){An(n,1,48,e&&pe(e.toString)?e.toString():"Error serializing object",null,!0)}}return o}return e.__aiCircularRefCheck=!0,ve(e.aiDataContract,(function(i,s){var u=pe(s)?1&s():1&s,c=pe(s)?4&s():4&s,l=2&s,f=void 0!==e[i],d=de(e[i])&&null!==e[i];if(!u||f||l){if(!c){var p;void 0!==(p=d?l?r(e[i],i):t(e[i],i):e[i])&&(o[i]=p)}}else An(n,1,24,"Missing required field specification. The field is required but not present on source",{field:i,name:a})})),delete e.__aiCircularRefCheck,o}function r(e,r){var i;if(e)if(me(e)){i=[];for(var a=0;a<e.length;a++){var o=t(e[a],r+"["+a+"]");i.push(o)}}else An(n,1,54,"This field was specified as an array in the contract but the item is not an array.\r\n",{name:r},!0);return i}function i(e,t,r){var i;return e&&(i={},ve(e,(function(e,a){if("string"===t)void 0===a?i[e]="undefined":null===a?i[e]="null":a.toString?i[e]=a.toString():i[e]="invalid field: toString() is not defined.";else if("number"===t)if(void 0===a)i[e]="undefined";else if(null===a)i[e]="null";else{var o=parseFloat(a);isNaN(o)?i[e]="NaN":i[e]=o}else i[e]="invalid field: "+r+" is of unknown type.",An(n,1,i[e],null,!0)}))),i}e.serialize=function(e){var r=t(e,"root");try{return vn().stringify(r)}catch(e){An(n,1,48,e&&pe(e.toString)?e.toString():"Error serializing object",null,!0)}}}))}return e.__ieDyn=1,e}(),Aa=function(){function e(){}return e.prototype.getHashCodeScore=function(n){return this.getHashCode(n)/e.INT_MAX_VALUE*100},e.prototype.getHashCode=function(e){if(""===e)return 0;for(;e.length<8;)e=e.concat(e);for(var n=5381,t=0;t<e.length;++t)n=(n<<5)+n+e.charCodeAt(t),n&=n;return Math.abs(n)},e.INT_MAX_VALUE=2147483647,e}(),Ra=function(){var e=new Aa,n=new Xi;this.getSamplingScore=function(t){return t.tags&&t.tags[n.userId]?e.getHashCodeScore(t.tags[n.userId]):t.ext&&t.ext.user&&t.ext.user.id?e.getHashCodeScore(t.ext.user.id):t.tags&&t.tags[n.operationId]?e.getHashCodeScore(t.tags[n.operationId]):t.ext&&t.ext.telemetryTrace&&t.ext.telemetryTrace.traceID?e.getHashCodeScore(t.ext.telemetryTrace.traceID):100*Math.random()}},qa=function(){function e(e,n){this.INT_MAX_VALUE=2147483647;var t=n||Nn(null);(e>100||e<0)&&(t.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:e},!0),e=100),this.sampleRate=e,this.samplingScoreGenerator=new Ra}return e.prototype.isSampledIn=function(e){var n=this.sampleRate;return null==n||n>=100||e.baseType===Ei.dataType||this.samplingScoreGenerator.getSamplingScore(e)<n},e}();function Ua(e){try{return e.responseText}catch(e){}return null}function Fa(){var e,n;return(e={endpointUrl:function(){return Dr+Pr}}).emitLineDelimitedJson=function(){return!1},e.maxBatchInterval=function(){return 15e3},e.maxBatchSizeInBytes=function(){return 102400},e.disableTelemetry=function(){return!1},e.enableSessionStorageBuffer=function(){return!0},e.isRetryDisabled=function(){return!1},e.isBeaconApiDisabled=function(){return!0},e.disableXhr=function(){return!1},e.onunloadDisableFetch=function(){return!1},e.onunloadDisableBeacon=function(){return!1},e.instrumentationKey=function(){return n},e.namePrefix=function(){return n},e.samplingPercentage=function(){return 100},e.customHeaders=function(){},e.convertUndefined=function(){return n},e.eventsLimitInMem=function(){return 1e4},e}var za=((Pa={})[yi.dataType]=ka,Pa[Li.dataType]=function(e,n,t){Sa(e,n);var r=n.baseData.message,i=n.baseData.severityLevel,a=n.baseData.properties||{},o=n.baseData.measurements||{};Ca(n.data,a,o),ce(t)||ba(a,t);var s=new Li(e,r,i,a,o),u=new Ri(Li.dataType,s);return wa(e,Li.envelopeType,n,u)},Pa[Ni.dataType]=function(e,n,t){var r;Sa(e,n);var i=n.baseData;ce(i)||ce(i.properties)||ce(i.properties.duration)?ce(n.data)||ce(n.data.duration)||(r=n.data.duration,delete n.data.duration):(r=i.properties.duration,delete i.properties.duration);var a,o=n.baseData;((n.ext||{}).trace||{}).traceID&&(a=n.ext.trace.traceID);var s=o.id||a,u=o.name,c=o.uri,l=o.properties||{},f=o.measurements||{};ce(o.refUri)||(l.refUri=o.refUri),ce(o.pageType)||(l.pageType=o.pageType),ce(o.isLoggedIn)||(l.isLoggedIn=o.isLoggedIn.toString()),ce(o.properties)||ve(o.properties,(function(e,n){l[e]=n})),Ca(n.data,l,f),ce(t)||ba(l,t);var d=new Ni(e,u,c,r,l,f,s),p=new Ri(Ni.dataType,d);return wa(e,Ni.envelopeType,n,p)},Pa[Ai.dataType]=function(e,n,t){Sa(e,n);var r=n.baseData,i=r.name,a=r.uri||r.url,o=r.properties||{},s=r.measurements||{};Ca(n.data,o,s),ce(t)||ba(o,t);var u=new Ai(e,i,a,void 0,o,s,r),c=new Ri(Ai.dataType,u);return wa(e,Ai.envelopeType,n,c)},Pa[_i.dataType]=function(e,n,t){Sa(e,n);var r=n.baseData.measurements||{},i=n.baseData.properties||{};Ca(n.data,i,r),ce(t)||ba(i,t);var a=n.baseData,o=_i.CreateFromInterface(e,a,i,r),s=new Ri(_i.dataType,o);return wa(e,_i.envelopeType,n,s)},Pa[Ei.dataType]=function(e,n,t){Sa(e,n);var r=n.baseData,i=r.properties||{},a=r.measurements||{};Ca(n.data,i,a),ce(t)||ba(i,t);var o=new Ei(e,r.name,r.average,r.sampleCount,r.min,r.max,r.stdDev,i,a),s=new Ri(Ei.dataType,o);return wa(e,Ei.envelopeType,n,s)},Pa[Mi.dataType]=function(e,n,t){Sa(e,n);var r=n.baseData.measurements||{},i=n.baseData.properties||{};Ca(n.data,i,r),ce(t)||ba(i,t);var a=n.baseData;if(ce(a))return Rn(e,"Invalid input for dependency data"),null;var o=a.properties&&a.properties[kr]?a.properties[kr]:"GET",s=new Mi(e,a.id,a.target,a.name,a.duration,a.success,a.responseCode,o,a.type,a.correlationContext,i,r),u=new Ri(Mi.dataType,s);return wa(e,Mi.envelopeType,n,u)},Pa),Ha=function(e){function n(){var t,r,i,a,o,s,u,c=e.call(this)||this;c.priority=1001,c.identifier=Qi,c._senderConfig=Fa();var l,f,d,p,g=0;return _(n,c,(function(e,v){function h(n,r,i,a,o,s){var u=null;if(e._appId||(u=S(s))&&u.appId&&(e._appId=u.appId),(n<200||n>=300)&&0!==n){if((301===n||307===n||308===n)&&!m(i))return void e._onError(r,o);!e._senderConfig.isRetryDisabled()&&P(n)?(_(r),An(e.diagLog(),2,40,". Response code "+n+". Will retry to send "+r.length+" items.")):e._onError(r,o)}else d&&!d.isOnline()?e._senderConfig.isRetryDisabled()||(_(r,10),An(e.diagLog(),2,40,". Offline - Response Code: ".concat(n,". Offline status: ").concat(!d.isOnline(),". Will retry to send ").concat(r.length," items."))):(m(i),206===n?(u||(u=S(s)),u&&!e._senderConfig.isRetryDisabled()?e._onPartialSuccess(r,u):e._onError(r,o)):(t=0,e._onSuccess(r,a)))}function m(n){return!(s>=10||ce(n)||""===n||n===e._senderConfig.endpointUrl()||(e._senderConfig.endpointUrl=function(){return n},++s,0))}function y(e,n){f?f(e,!1):I(e)}function x(n){var t=ln(),r=e._buffer,i=e._senderConfig.endpointUrl(),a=e._buffer.batchPayloads(n),o=new Blob([a],{type:"text/plain;charset=UTF-8"}),s=t.sendBeacon(i,o);return s&&(r.markAsSent(n),e._onSuccess(n,n.length)),s}function I(n,t){if(me(n)&&n.length>0&&!x(n)){for(var r=[],i=0;i<n.length;i++){var a=n[i];x([a])||r.push(a)}r.length>0&&(l&&l(r,!0),An(e.diagLog(),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}function T(n,t){var r=new XMLHttpRequest,i=e._senderConfig.endpointUrl();try{r[_r]=!0}catch(e){}r.open("POST",i,t),r.setRequestHeader("Content-type","application/json"),di(i)&&r.setRequestHeader(Ur[6],Ur[7]),we(Ee(u),(function(e){r.setRequestHeader(e,u[e])})),r.onreadystatechange=function(){return e._xhrReadyStateChange(r,n,n.length)},r.onerror=function(t){return e._onError(n,E(r),t)};var a=e._buffer.batchPayloads(n);r.send(a),e._buffer.markAsSent(n)}function C(n,t){if(me(n)){for(var r=n.length,i=0;i<n.length;i++)r+=n[i].length;g+r<=65e3?w(n,!1):xn()?I(n):(l&&l(n,!0),An(e.diagLog(),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."))}}function b(e,n){w(e,!0)}function w(n,t){var r,i=e._senderConfig.endpointUrl(),a=e._buffer.batchPayloads(n),o=new Blob([a],{type:"application/json"}),s=new Headers,c=a.length,l=!1,f=!1;di(i)&&s.append(Ur[6],Ur[7]),we(Ee(u),(function(e){s.append(e,u[e])}));var d=((r={method:"POST",headers:s,body:o})[_r]=!0,r);t||(d.keepalive=!0,l=!0,g+=c);var p=new Request(i,d);try{p[_r]=!0}catch(e){}e._buffer.markAsSent(n);try{fetch(p).then((function(r){t||(g-=c,c=0),f||(f=!0,r.ok?r.text().then((function(e){h(r.status,n,r.url,n.length,r.statusText,e)})):e._onError(n,r.statusText))})).catch((function(r){t||(g-=c,c=0),f||(f=!0,e._onError(n,r.message))}))}catch(t){f||e._onError(n,yn(t))}l&&!f&&(f=!0,e._onSuccess(n,n.length))}function S(n){try{if(n&&""!==n){var t=vn().parse(n);if(t&&t.itemsReceived&&t.itemsReceived>=t.itemsAccepted&&t.itemsReceived-t.itemsAccepted===t.errors.length)return t}}catch(t){An(e.diagLog(),1,43,"Cannot parse the response. "+Re(t),{response:n})}return null}function _(n,i){if(void 0===i&&(i=1),n&&0!==n.length){var a=e._buffer;a.clearSent(n),t++;for(var o=0,s=n;o<s.length;o++){var u=s[o];a.enqueue(u)}!function(e){var n;if(t<=1)n=10;else{var i=(Math.pow(2,t)-1)/2,a=Math.floor(Math.random()*i*10)+1;a*=e,n=Math.max(Math.min(a,3600),10)}var o=Ae()+1e3*n;r=o}(i),k()}}function k(){if(!a&&!i){var n=r?Math.max(0,r-Ae()):0,t=Math.max(e._senderConfig.maxBatchInterval(),n);a=setTimeout((function(){a=null,e.triggerSend(!0,null,1)}),t)}}function D(){clearTimeout(a),a=null,r=null}function P(e){return 401===e||403===e||408===e||429===e||500===e||502===e||503===e||504===e}function E(e,n){return e?"XMLHttpRequest,Status:"+e.status+",Response:"+Ua(e)||0:n}function N(n,t){var r=e._buffer,i=on(),a=new XDomainRequest;a.onload=function(){return e._xdrOnLoad(a,n)},a.onerror=function(t){return e._onError(n,M(a),t)};var o=i&&i.location&&i.location.protocol||"";if(0!==e._senderConfig.endpointUrl().lastIndexOf(o,0))return An(e.diagLog(),2,40,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),void r.clear();var s=e._senderConfig.endpointUrl().replace(/^(https?:)/,"");a.open("POST",s);var u=r.batchPayloads(n);a.send(u),r.markAsSent(n)}function M(e,n){return e?"XDomainRequest,Response:"+Ua(e)||0:n}function L(){e._sender=null,e._buffer=null,e._appId=null,e._sample=null,u={},d=null,t=0,r=null,i=!1,a=null,o=null,s=0,g=0,l=null,f=null,p=null}L(),e.pause=function(){D(),i=!0},e.resume=function(){i&&(i=!1,r=null,e._buffer.size()>e._senderConfig.maxBatchSizeInBytes()&&e.triggerSend(!0,null,10),k())},e.flush=function(n,t,r){if(void 0===n&&(n=!0),!i){D();try{e.triggerSend(n,null,r||1)}catch(n){An(e.diagLog(),1,22,"flush failed, telemetry will not be collected: "+Re(n),{exception:yn(n)})}}},e.onunloadFlush=function(){if(!i)if(!1!==e._senderConfig.onunloadDisableBeacon()&&!1!==e._senderConfig.isBeaconApiDisabled()||!xn())e.flush();else try{e.triggerSend(!0,y,2)}catch(n){An(e.diagLog(),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+Re(n),{exception:yn(n)})}},e.addHeader=function(e,n){u[e]=n},e.initialize=function(n,i,a,u){e.isInitialized()&&An(e.diagLog(),1,28,"Sender is already initialized"),v.initialize(n,i,a,u);var g=e._getTelCtx(),h=e.identifier;o=new La(i.logger),t=0,r=null,e._sender=null,s=0;var m=e.diagLog();p=Lt($n("Sender"),i.evtNamespace&&i.evtNamespace()),d=function(e){var n=un(),t=ln(),r=!1,i=!0,a=Lt($n("OfflineListener"),e);try{if(s(on())&&(r=!0),n){var o=n.body||n;o.ononline&&s(o)&&(r=!0)}r&&t&&!ce(t.onLine)&&(i=t.onLine)}catch(e){r=!1}function s(e){var n=!1;return e&&(n=At(e,"online",u,a))&&At(e,"offline",c,a),n}function u(){i=!0}function c(){i=!1}return{isOnline:function(){var e=!0;return r?e=i:t&&!ce(t.onLine)&&(e=t.onLine),e},isListening:function(){return r},unload:function(){var e=on();if(e&&r){if(Da(e,a),n){var t=n.body||n;ue(t.ononline)||Da(t,a)}r=!1}}}}(p),ve(Fa(),(function(n,t){e._senderConfig[n]=function(){var e=g.getConfig(h,n,t());return e||"endpointUrl"!==n||(e=t()),e}})),e._buffer=e._senderConfig.enableSessionStorageBuffer()&&Kr()?new Ma(m,e._senderConfig):new Na(m,e._senderConfig),e._sample=new qa(e._senderConfig.samplingPercentage(),m),function(e){return!(ce(e[xa])||!e[xa])||new RegExp("^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$").test(e.instrumentationKey)}(n)||An(m,1,100,"Invalid Instrumentation key "+n.instrumentationKey),!di(e._senderConfig.endpointUrl())&&e._senderConfig.customHeaders()&&e._senderConfig.customHeaders().length>0&&we(e._senderConfig.customHeaders(),(function(e){c.addHeader(e.header,e.value)}));var y=e._senderConfig,x=null;!y.disableXhr()&&Tn()?x=N:!y.disableXhr()&&Cn()&&(x=T),!x&&In()&&(x=b),l=x||T,!y.isBeaconApiDisabled()&&xn()&&(x=I),e._sender=x||T,f=!y.onunloadDisableFetch()&&In(!0)?C:xn()?I:!y.disableXhr()&&Tn()?N:!y.disableXhr()&&Cn()?T:l},e.processTelemetry=function(t,r){var i,a=(r=e._getTelCtx(r)).diagLog();try{if(e._senderConfig.disableTelemetry())return;if(!t)return void An(a,1,7,"Cannot send empty telemetry");if(t.baseData&&!t.baseType)return void An(a,1,70,"Cannot send telemetry without baseData and baseType");if(t.baseType||(t.baseType="EventData"),!e._sender)return void An(a,1,28,"Sender was not initialized");if(i=t,!e._sample.isSampledIn(i))return void An(a,2,33,"Telemetry item was sampled out and not sent",{SampleRate:e._sample.sampleRate});t.sampleRate=e._sample.sampleRate;var s=e._senderConfig.convertUndefined()||void 0,u=t.iKey||e._senderConfig.instrumentationKey(),c=n.constructEnvelope(t,u,a,s);if(!c)return void An(a,1,47,"Unable to create an AppInsights envelope");var l=!1;if(t.tags&&t.tags.ProcessLegacy&&(we(t.tags.ProcessLegacy,(function(e){try{e&&!1===e(c)&&(l=!0,Rn(a,"Telemetry processor check returns false"))}catch(e){An(a,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+Re(e),{exception:yn(e)},!0)}})),delete t.tags.ProcessLegacy),l)return;var f=o.serialize(c),d=e._buffer;d.size()+f.length>e._senderConfig.maxBatchSizeInBytes()&&e.triggerSend(!0,null,10),d.enqueue(f),k()}catch(e){An(a,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+Re(e),{exception:yn(e)})}e.processNext(t,r)},e._xhrReadyStateChange=function(e,n,t){4===e.readyState&&h(e.status,n,e.responseURL,t,E(e),Ua(e)||e.response)},e.triggerSend=function(n,t,r){if(void 0===n&&(n=!0),!i)try{var a=e._buffer;if(e._senderConfig.disableTelemetry())a.clear();else{if(a.count()>0){var o=a.getItems();!function(n,t){var r,i=(r="getNotifyMgr",e.core[r]?e.core[r]():e.core._notificationManager);if(i&&i.eventsSendRequest)try{i.eventsSendRequest(n,t)}catch(n){An(e.diagLog(),1,74,"send request notification failed: "+Re(n),{exception:yn(n)})}}(r||0,n),t?t.call(c,o,n):e._sender(o,n)}new Date}D()}catch(n){var s=mn();(!s||s>9)&&An(e.diagLog(),1,40,"Telemetry transmission failed, some telemetry will be lost: "+Re(n),{exception:yn(n)})}},e._doTeardown=function(n,t){e.onunloadFlush(),d.unload(),L()},e._onError=function(n,t,r){An(e.diagLog(),2,26,"Failed to send telemetry.",{message:t}),e._buffer.clearSent(n)},e._onPartialSuccess=function(n,t){for(var r=[],i=[],a=0,o=t.errors.reverse();a<o.length;a++){var s=o[a],u=n.splice(s.index,1)[0];P(s.statusCode)?i.push(u):r.push(u)}n.length>0&&e._onSuccess(n,t.itemsAccepted),r.length>0&&e._onError(r,E(null,["partial success",t.itemsAccepted,"of",t.itemsReceived].join(" "))),i.length>0&&(_(i),An(e.diagLog(),2,40,"Partial success. Delivered: "+n.length+", Failed: "+r.length+". Will retry to send "+i.length+" our of "+t.itemsReceived+" items"))},e._onSuccess=function(n,t){e._buffer.clearSent(n)},e._xdrOnLoad=function(n,r){var i=Ua(n);if(!n||i+""!="200"&&""!==i){var a=S(i);a&&a.itemsReceived&&a.itemsReceived>a.itemsAccepted&&!e._senderConfig.isRetryDisabled()?e._onPartialSuccess(r,a):e._onError(r,M(n))}else t=0,e._onSuccess(r,0)}})),c}return V(n,e),n.constructEnvelope=function(e,n,t,r){var i;return i=n===e.iKey||ce(n)?e:H(H({},e),{iKey:n}),(za[i.baseType]||ka)(t,i,r)},n}(ur),Ba="excludeRequestFromAutoTrackingPatterns";function Va(e,n,t){var r=0,i=e[n],a=e[t];return i&&a&&(r=vi(i,a)),r}function ja(e,n,t,r,i){var a=0,o=Va(t,r,i);return o&&(a=Oa(e,n,Ar(o))),a}function Oa(e,n,t){var r=0;return e&&n&&t&&((e.ajaxPerf=e.ajaxPerf||{})[n]=t,r=1),r}var Ka=function(){var e=this;e.openDone=!1,e.setRequestHeaderDone=!1,e.sendDone=!1,e.abortDone=!1,e.stateChangeAttached=!1},Xa=function(){function e(n,t,r,i){var a,o=this,s=r;o.perfMark=null,o.completed=!1,o.requestHeadersSize=null,o.requestHeaders=null,o.responseReceivingDuration=null,o.callbackDuration=null,o.ajaxTotalDuration=null,o.aborted=0,o.pageUrl=null,o.requestUrl=null,o.requestSize=0,o.method=null,o.status=null,o.requestSentTime=null,o.responseStartedTime=null,o.responseFinishedTime=null,o.callbackFinishedTime=null,o.endTime=null,o.xhrMonitoringState=new Ka,o.clientFailure=0,o.traceID=n,o.spanID=t,o.traceFlags=null==i?void 0:i.getTraceFlags(),o.eventTraceCtx=i?((a={}).traceId=i.getTraceId(),a.spanId=i.getSpanId(),a.traceFlags=i.getTraceFlags(),a):null,_(e,o,(function(e){e.getAbsoluteUrl=function(){return e.requestUrl?function(e){var n,t=ui(e);return t&&(n=t.href),n}(e.requestUrl):null},e.getPathName=function(){return e.requestUrl?$r(s,(n=e.method,t=e.requestUrl,n?n.toUpperCase()+" "+t:t)):null;var n,t},e.CreateTrackItem=function(n,t,r){var i;if(e.ajaxTotalDuration=Math.round(1e3*vi(e.requestSentTime,e.responseFinishedTime))/1e3,e.ajaxTotalDuration<0)return null;var a=((i={id:"|"+e.traceID+"."+e.spanID,target:e.getAbsoluteUrl()}).name=e.getPathName(),i.type=n,i.startTime=null,i.duration=e.ajaxTotalDuration,i.success=+e.status>=200&&+e.status<400,i.responseCode=+e.status,i.method=e.method,i.properties={HttpMethod:e.method},i);if(e.requestSentTime&&(a.startTime=new Date,a.startTime.setTime(e.requestSentTime)),function(e,n){var t=e.perfTiming,r=n.properties||{},i=0,a="redirect",o="startTime",s="connectEnd",u="requestStart",c="responseEnd",l=a+"Start",f=a="End";if(t){i|=ja(r,a,t,l,f),i|=ja(r,"domainLookup",t,"domainLookupStart","domainLookupEnd"),i|=ja(r,"connect",t,"connectStart",s),i|=ja(r,"request",t,u,"requestEnd"),i|=ja(r,"response",t,"responseStart",c),i|=ja(r,"networkConnect",t,o,s),i|=ja(r,"sentRequest",t,u,c);var d=t.duration;d||(d=Va(t,o,c)||0),i|=Oa(r,"duration",d),i|=Oa(r,"perfTotal",d);var p=t.serverTiming;if(p){var g={};we(p,(function(e,n){var t=ge(e.name||""+n),r=g[t]||{};ve(e,(function(e,n){("name"!==e&&xe(n)||Ie(n))&&(r[e]&&(n=r[e]+";"+n),!n&&xe(n)||(r[e]=n))})),g[t]=r})),i|=Oa(r,"serverTiming",g)}i|=Oa(r,"transferSize",t.transferSize),i|=Oa(r,"encodedBodySize",t.encodedBodySize),i|=Oa(r,"decodedBodySize",t.decodedBodySize)}else e.perfMark&&(i|=Oa(r,"missing",e.perfAttempts));i&&(n.properties=r)}(e,a),t&&Ee(e.requestHeaders).length>0&&((c=a.properties=a.properties||{}).requestHeaders=e.requestHeaders),r){var o=r();if(o){var s=o.correlationContext;if(s&&(a.correlationContext=s),o.headerMap&&Ee(o.headerMap).length>0&&((c=a.properties=a.properties||{}).responseHeaders=o.headerMap),e.errorStatusText&&e.status>=400){var u=o.type,c=a.properties=a.properties||{};""!==u&&"text"!==u||(c.responseText=o.responseText?o.statusText+" - "+o.responseText:o.statusText),"json"===u&&(c.responseText=o.response?o.statusText+" - "+JSON.stringify(o.response):o.statusText)}}}return a},e.getPartAProps=function(){var n,t=null,r=e.eventTraceCtx;if(r&&(r.traceId||r.spanId)){var i=(t={}).trace=((n={}).traceID=r.traceId,n.parentID=r.spanId,n);ce(r.traceFlags)||(i.traceFlags=r.traceFlags)}return t}}))}return e.__ieDyn=1,e}(),Ga="ai.ajxmn.",Ya="fetch",Wa="Failed to monitor XMLHttpRequest",Ja=", monitoring data for this ajax call ",$a=Ja+"may be incorrect.",Za=Ja+"won't be sent.",Qa="Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",eo="Failed to add custom defined request context as configured call back may missing a null check.",no="Failed to calculate the duration of the ",to=0;function ro(e){var n="";try{e&&e.ajaxData&&e.ajaxData.requestUrl&&(n+="(url: '"+e.ajaxData.requestUrl+"')")}catch(e){}return n}function io(e,n,t,r,i){An(e.diagLog(),1,n,t,r,i)}function ao(e,n,t,r,i){An(e.diagLog(),2,n,t,r,i)}function oo(e,n,t){return function(r){io(e,n,t,{ajaxDiagnosticsMessage:ro(r.inst),exception:yn(r.err)})}}function so(e,n){return e&&n?e.indexOf(n):-1}function uo(e,n,t){var r={id:n,fn:t};return e.push(r),{remove:function(){we(e,(function(n,t){if(n.id===r.id)return e.splice(t,1),-1}))}}}function co(e,n,t,r){var i=!0;return we(n,(function(n,a){try{!1===n.fn.call(null,t)&&(i=!1)}catch(n){An(e&&e.logger,1,64,"Dependency "+r+" [#"+a+"] failed: "+Re(n),{exception:yn(n)},!0)}})),i}var lo="*.blob.core.",fo=Me([lo+"windows.net",lo+"chinacloudapi.cn",lo+"cloudapi.de",lo+"usgovcloudapi.net"]),po=[/https:\/\/[^\/]*(\.pipe\.aria|aria\.pipe|events\.data|collector\.azure)\.[^\/]+\/(OneCollector\/1|Collector\/3)\.0/i];function go(){var e;return(e={}).maxAjaxCallsPerView=500,e.disableAjaxTracking=!1,e.disableFetchTracking=!1,e[Ba]=void 0,e.disableCorrelationHeaders=!1,e.distributedTracingMode=1,e.correlationHeaderExcludedDomains=fo,e.correlationHeaderDomains=void 0,e.correlationHeaderExcludePatterns=void 0,e.appId=void 0,e.enableCorsCorrelation=!1,e.enableRequestHeaderTracking=!1,e.enableResponseHeaderTracking=!1,e.enableAjaxErrorStatusText=!1,e.enableAjaxPerfTracking=!1,e.maxAjaxPerfLookupAttempts=3,e.ajaxPerfLookupDelay=25,e.ignoreHeaders=["Authorization","X-API-Key","WWW-Authenticate"],e.addRequestContext=void 0,e.addIntEndpoints=!0,e}function vo(){var e=go();return ve(e,(function(n){e[n]=void 0})),e}var ho=function(e){function n(){var t,r,i,a,o,s,u,c,l,f,d,p,g,v,h,m,y,x,I,T,C,b,w,S=e.call(this)||this;return S.identifier=n.identifier,S.priority=120,_(n,S,(function(e,S){var _=S._addHook;function k(){var e=dn();t=!1,r=!1,i=e&&e.host&&e.host.toLowerCase(),a=n.getEmptyConfig(),o=!1,s=!1,u=0,c=null,l=!1,f=!1,d=null,p=!1,g=0,v=!1,h={},m=!1,y=!1,x=null,I=null,T=null,C=0,b=[],w=[]}function D(e){var n=!0;return(e||a.ignoreHeaders)&&we(a.ignoreHeaders,(function(t){if(t.toLowerCase()===e.toLowerCase())return n=!1,-1})),n}function P(e,n,t){_(function(e,n,t){return e?wr(e.prototype,n,t,!1):null}(e,n,t))}function E(e,n,t){var r=!1,i=((xe(n)?n:(n||{}).url||"")||"").toLowerCase();if(we(x,(function(e){var n=e;xe(e)&&(n=new RegExp(e)),r||(r=n.test(i))})),r)return r;var a=so(i,"?"),o=so(i,"#");return(-1===a||-1!==o&&o<a)&&(a=o),-1!==a&&(i=i.substring(0,a)),ce(e)?ce(n)||(r="object"==typeof n&&!0===n[_r]||!!t&&!0===t[_r]):r=!0===e[_r]||!0===i[_r],!r&&i&&di(i)&&(r=!0),r?h[i]||(h[i]=1):h[i]&&(r=!0),r}function N(e,n){var t=!0,i=r;return ce(e)||(t=!0===n||!ce(e.ajaxData)),i&&t}function M(){var n=null;return e.core&&e.core.getTraceCtx&&(n=e.core.getTraceCtx(!1)),!n&&c&&c.telemetryTrace&&(n=hi(c.telemetryTrace)),n}function L(e,n){if(n.requestUrl&&d&&p){var t=pn();if(t&&pe(t.mark)){to++;var r=d+e+"#"+to;t.mark(r);var i=t.getEntriesByName(r);i&&1===i.length&&(n.perfMark=i[0])}}}function A(e,n,t,r){var i=n.perfMark,o=pn(),s=a.maxAjaxPerfLookupAttempts,u=a.ajaxPerfLookupDelay,c=n.requestUrl,l=0;!function a(){try{if(o&&i){l++;for(var f=null,d=o.getEntries(),p=d.length-1;p>=0;p--){var g=d[p];if(g){if("resource"===g.entryType)g.initiatorType!==e||-1===so(g.name,c)&&-1===so(c,g.name)||(f=g);else if("mark"===g.entryType&&g.name===i.name){n.perfTiming=f;break}if(g.startTime<i.startTime-1e3)break}}}!i||n.perfTiming||l>=s||!1===n.async?(i&&pe(o.clearMarks)&&o.clearMarks(i.name),n.perfAttempts=l,t()):setTimeout(a,u)}catch(e){r(e)}}()}function R(n){var t="";try{ce(n)||(t+="(url: '".concat("string"==typeof n?n:n.url,"')"))}catch(n){io(e,15,"Failed to grab failed fetch diagnostics message",{exception:yn(n)})}return t}function q(n,t,r,i,a,s,u){function c(n,t,i){var a=i||{};a.fetchDiagnosticsMessage=R(r),t&&(a.exception=yn(t)),ao(e,n,no+"fetch call"+Za,a)}a&&(a.responseFinishedTime=gi(),a.status=t,A("fetch",a,(function(){var n,u=a.CreateTrackItem("Fetch",o,s);try{I&&(n=I({status:t,request:r,response:i}))}catch(n){ao(e,104,eo)}if(u){void 0!==n&&(u.properties=H(H({},u.properties),n));var l=a.getPartAProps();F(w,e.core,a,u,null,l)}else c(14,null,{requestSentTime:a.requestSentTime,responseFinishedTime:a.responseFinishedTime})}),(function(e){c(18,e,null)})))}function F(n,t,r,i,a,o){var s,u=!0;n.length>0&&(u=co(t,n,((s={item:i}).properties=a,s.sysProperties=o,s.context=r?r.context:null,s),"initializer")),u&&e.trackDependencyDataInternal(i,a,o)}k(),e.initialize=function(i,u,h,C){var b;e.isInitialized()||(S.initialize(i,u,h,C),T=Lt($n("ajax"),u&&u.evtNamespace&&u.evtNamespace()),function(t){var r=nr(null,t,e.core);a=vo(),ve(go(),(function(e,t){a[e]=r.getConfig(n.identifier,e,t)}));var i=a.distributedTracingMode;if(o=a.enableRequestHeaderTracking,s=a.enableAjaxErrorStatusText,p=a.enableAjaxPerfTracking,g=a.maxAjaxCallsPerView,v=a.enableResponseHeaderTracking,x=[].concat(a[Ba]||[],!1!==a.addIntEndpoints?po:[]),I=a.addRequestContext,f=0===i||1===i,l=1===i||2===i,p){var u=t.instrumentationKey||"unkwn";d=u.length>5?Ga+u.substring(u.length-5)+".":Ga+u+"."}m=!!a.disableAjaxTracking,y=!!a.disableFetchTracking}(i),!function(e){var n=!1;if(Cn()){var t=XMLHttpRequest.prototype;n=!(ce(t)||ce(t.open)||ce(t.send)||ce(t.abort))}var r=mn();if(r&&r<9&&(n=!1),n)try{(new XMLHttpRequest).ajaxData={};var i=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=i}catch(t){n=!1,io(e,15,"Failed to enable XMLHttpRequest monitoring, extension is not supported",{exception:yn(t)})}return n}(e)||m||r||(P(XMLHttpRequest,"open",{ns:T,req:function(n,t,r,i){if(!m){var a=n.inst,u=a.ajaxData;!E(a,r)&&N(a,!0)&&(u&&u.xhrMonitoringState.openDone||function(n,t,r,i){var a,o=M(),u=o&&o.getTraceId()||zt(),c=zt().substr(0,16),l=new Xa(u,c,e.diagLog(),null===(a=e.core)||void 0===a?void 0:a.getTraceCtx());l.traceFlags=o&&o.getTraceFlags(),l.method=t,l.requestUrl=r,l.xhrMonitoringState.openDone=!0,l.requestHeaders={},l.async=i,l.errorStatusText=s,n.ajaxData=l}(a,t,r,i),function(n){n.ajaxData.xhrMonitoringState.stateChangeAttached=At(n,"readystatechange",(function(){var t;try{n&&4===n.readyState&&N(n)&&function(n){var t=n.ajaxData;function r(t,r){var i=r||{};i.ajaxDiagnosticsMessage=ro(n),t&&(i.exception=yn(t)),ao(e,14,no+"ajax call"+Za,i)}t.responseFinishedTime=gi(),t.status=n.status,A("xmlhttprequest",t,(function(){try{var i=t.CreateTrackItem("Ajax",o,(function(){var t,r=((t={statusText:n.statusText}).headerMap=null,t.correlationContext=function(n){var t;try{var r=n.getAllResponseHeaders();if(null!==r&&-1!==so(r.toLowerCase(),Ur[8])){var i=n.getResponseHeader(Ur[0]);return pi.getCorrelationContext(i)}}catch(r){ao(e,18,Qa,((t={}).ajaxDiagnosticsMessage=ro(n),t.exception=yn(r),t))}}(n),t.type=n.responseType,t.responseText=function(e){try{var n=e.responseType;if(""===n||"text"===n)return e.responseText}catch(e){}return null}(n),t.response=n.response,t);if(v){var i=n.getAllResponseHeaders();if(i){var a=ke(i).split(/[\r\n]+/),o={};we(a,(function(e){var n=e.split(": "),t=n.shift(),r=n.join(": ");D(t)&&(o[t]=r)})),r.headerMap=o}}return r})),a=void 0;try{I&&(a=I({status:n.status,xhr:n}))}catch(n){ao(e,104,eo)}if(i){void 0!==a&&(i.properties=H(H({},i.properties),a));var s=t.getPartAProps();F(w,e.core,t,i,null,s)}else r(null,{requestSentTime:t.requestSentTime,responseFinishedTime:t.responseFinishedTime})}finally{try{n.ajaxData=null}catch(e){}}}),(function(e){r(e,null)}))}(n)}catch(i){var r=yn(i);r&&-1!==so(r.toLowerCase(),"c00c023f")||io(e,16,Wa+" 'readystatechange' event handler"+$a,((t={}).ajaxDiagnosticsMessage=ro(n),t.exception=r,t))}}),T)}(a))}},hkErr:oo(e,15,Wa+".open"+$a)}),P(XMLHttpRequest,"send",{ns:T,req:function(n,t){if(!m){var r=n.inst,i=r.ajaxData;N(r)&&!i.xhrMonitoringState.sendDone&&(L("xhr",i),i.requestSentTime=gi(),e.includeCorrelationHeaders(i,void 0,void 0,r),i.xhrMonitoringState.sendDone=!0)}},hkErr:oo(e,17,Wa+$a)}),P(XMLHttpRequest,"abort",{ns:T,req:function(e){if(!m){var n=e.inst,t=n.ajaxData;N(n)&&!t.xhrMonitoringState.abortDone&&(t.aborted=1,t.xhrMonitoringState.abortDone=!0)}},hkErr:oo(e,13,Wa+".abort"+$a)}),P(XMLHttpRequest,"setRequestHeader",{ns:T,req:function(e,n,t){if(!m&&o){var r=e.inst;N(r)&&D(n)&&(r.ajaxData.requestHeaders[n]=t)}},hkErr:oo(e,71,Wa+".setRequestHeader"+$a)}),r=!0),function(){var n,i=!(n=U())||ce(n.Request)||ce(n.Request.prototype)||ce(n.fetch)?null:n.fetch;if(i){var a=U(),u=i.polyfill;y||t?u&&_(wr(a,Ya,{ns:T,req:function(e,n,t){E(null,n,t)}})):(_(wr(a,Ya,{ns:T,req:function(n,i,a){var c;if(!y&&t&&!E(null,i,a)&&(!u||!r)){var l=n.ctx();c=function(n,t){var r,i=M(),a=i&&i.getTraceId()||zt(),u=zt().substr(0,16),c=new Xa(a,u,e.diagLog(),null===(r=e.core)||void 0===r?void 0:r.getTraceCtx());c.traceFlags=i&&i.getTraceFlags(),c.requestSentTime=gi(),c.errorStatusText=s,n instanceof Request?c.requestUrl=n?n.url:"":c.requestUrl=n;var l="GET";t&&t.method?l=t.method:n&&n instanceof Request&&(l=n.method),c.method=l;var f={};return o&&new Headers((t?t.headers:0)||n instanceof Request&&n.headers||{}).forEach((function(e,n){D(n)&&(f[n]=e)})),c.requestHeaders=f,L("fetch",c),c}(i,a);var f=e.includeCorrelationHeaders(c,i,a);f!==a&&n.set(1,f),l.data=c}},rsp:function(n,t){if(!y){var r=n.ctx().data;r&&(n.rslt=n.rslt.then((function(n){return q(0,(n||{}).status,t,n,r,(function(){var t,r=((t={statusText:n.statusText}).headerMap=null,t.correlationContext=function(n){if(n&&n.headers)try{var t=n.headers.get(Ur[0]);return pi.getCorrelationContext(t)}catch(t){ao(e,18,Qa,{fetchDiagnosticsMessage:R(n),exception:yn(t)})}}(n),t);if(v){var i={};n.headers.forEach((function(e,n){D(n)&&(i[n]=e)})),r.headerMap=i}return r})),n})).catch((function(e){throw q(0,0,t,null,r,null,e.message),e})))}},hkErr:oo(e,15,"Failed to monitor Window.fetch"+$a)})),t=!0),u&&(a.fetch.polyfill=u)}}(),(b=e.core.getPlugin(Zi))&&(c=b.plugin.context))},e._doTeardown=function(){k()},e.trackDependencyData=function(n,t){F(w,e.core,null,n,t)},e.includeCorrelationHeaders=function(n,t,r,s){var u=e._currentWindowHost||i;if(function(e,n,t,r,i,a){var o;if(e.length>0){var s=((o={}).core=n,o.xhr=r,o.input=i,o.init=a,o.traceId=t.traceID,o.spanId=t.spanID,o.traceFlags=t.traceFlags,o.context=t.context||{},o);co(n,e,s,"listener"),t.traceID=s.traceId,t.spanID=s.spanId,t.traceFlags=s.traceFlags,t.context=s.context}}(b,e.core,n,s,t,r),t){if(pi.canIncludeCorrelationHeader(a,n.getAbsoluteUrl(),u)){r||(r={});var d=new Headers(r.headers||t instanceof Request&&t.headers||{});if(f){var p="|"+n.traceID+"."+n.spanID;d.set(Ur[3],p),o&&(n.requestHeaders[Ur[3]]=p)}if((v=a.appId||c&&c.appId())&&(d.set(Ur[0],Ur[2]+v),o&&(n.requestHeaders[Ur[0]]=Ur[2]+v)),l){ce(h=n.traceFlags)&&(h=1);var g=Yt(Kt(n.traceID,n.spanID,h));d.set(Ur[4],g),o&&(n.requestHeaders[Ur[4]]=g)}r.headers=d}return r}if(s){var v,h;if(pi.canIncludeCorrelationHeader(a,n.getAbsoluteUrl(),u))if(f&&(p="|"+n.traceID+"."+n.spanID,s.setRequestHeader(Ur[3],p),o&&(n.requestHeaders[Ur[3]]=p)),(v=a.appId||c&&c.appId())&&(s.setRequestHeader(Ur[0],Ur[2]+v),o&&(n.requestHeaders[Ur[0]]=Ur[2]+v)),l)ce(h=n.traceFlags)&&(h=1),g=Yt(Kt(n.traceID,n.spanID,h)),s.setRequestHeader(Ur[4],g),o&&(n.requestHeaders[Ur[4]]=g);return s}},e.trackDependencyDataInternal=function(n,t,r){if(-1===g||u<g){2!==a.distributedTracingMode&&1!==a.distributedTracingMode||"string"!=typeof n.id||"."===n.id[n.id.length-1]||(n.id+="."),ce(n.startTime)&&(n.startTime=new Date);var i=Gi(n,Mi.dataType,Mi.envelopeType,e.diagLog(),t,r);e.core.track(i)}else u===g&&io(e,55,"Maximum ajax per page view limit reached, ajax monitoring is paused until the next trackPageView(). In order to increase the limit set the maxAjaxCallsPerView configuration parameter.",!0);++u},e.addDependencyListener=function(e){return uo(b,C++,e)},e.addDependencyInitializer=function(e){return uo(w,C++,e)}})),S}return V(n,e),n.prototype.processTelemetry=function(e,n){this.processNext(e,n)},n.prototype.addDependencyInitializer=function(e){return null},n.identifier="AjaxDependencyPlugin",n.getDefaultConfig=go,n.getEmptyConfig=vo,n}(ur),mo=function(){},yo=function(){this.id="browser",this.deviceClass="Browser"},xo=function(e){this.sdkVersion=(e.sdkExtension&&e.sdkExtension()?e.sdkExtension()+"_":"")+"javascript:2.8.9"},Io=function(){},To=function(){},Co=function(){function e(n,t){var r,i,a=Nn(t),o=ct(t);_(e,this,(function(t){n||(n={}),pe(n.sessionExpirationMs)||(n.sessionExpirationMs=function(){return e.acquisitionSpan}),pe(n.sessionRenewalMs)||(n.sessionRenewalMs=function(){return e.renewalSpan}),t.config=n;var s=t.config.sessionCookiePostfix&&t.config.sessionCookiePostfix()?t.config.sessionCookiePostfix():t.config.namePrefix&&t.config.namePrefix()?t.config.namePrefix():"";function u(e,n){var t=!1,r=", session will be reset",i=n.split("|");if(i.length>=2)try{var o=+i[1]||0,s=+i[2]||0;isNaN(o)||o<=0?An(a,2,27,"AI session acquisition date is 0"+r):isNaN(s)||s<=0?An(a,2,27,"AI session renewal date is 0"+r):i[0]&&(e.id=i[0],e.acquisitionDate=o,e.renewalDate=s,t=!0)}catch(e){An(a,1,9,"Error parsing ai_session value ["+(n||"")+"]"+r+" - "+Re(e),{exception:yn(e)})}return t}function c(e,n){var a=e.acquisitionDate;e.renewalDate=n;var s,u=t.config,c=u.sessionRenewalMs(),l=a+u.sessionExpirationMs()-n,f=[e.id,a,n];s=l<c?l/1e3:c/1e3;var d=u.cookieDomain?u.cookieDomain():null;o.set(r(),f.join("|"),u.sessionExpirationMs()>0?s:null,d),i=n}r=function(){return"ai_session"+s},t.automaticSession=new To,t.update=function(){var n=Ae(),s=!1,l=t.automaticSession;l.id||(s=!function(e,n){var t=!1,i=o.get(r());if(i&&pe(i.split))t=u(e,i);else{var s=function(e,n){var t=Br();if(null!==t)try{return t.getItem(n)}catch(n){zr=!1,An(e,2,1,"Browser failed read of local storage. "+Re(n),{exception:yn(n)})}return null}(a,r());s&&(t=u(e,s))}return t||!!e.id}(l));var f=t.config.sessionExpirationMs();if(!s&&f>0){var d=t.config.sessionRenewalMs(),p=n-l.acquisitionDate,g=n-l.renewalDate;s=(s=(s=p<0||g<0)||p>f)||g>d}s?function(e){var n=t.config||{},r=(n.getNewId?n.getNewId():null)||Xn;t.automaticSession.id=r(n.idLength?n.idLength():22),t.automaticSession.acquisitionDate=e,c(t.automaticSession,e),Or()||An(a,2,0,"Browser does not support local storage. Session durations will be inaccurate.")}(n):(!i||n-i>e.cookieUpdateInterval)&&c(l,n)},t.backup=function(){var e,n,i,o=t.automaticSession;e=o.id,n=o.acquisitionDate,i=o.renewalDate,function(e,n,t){var r=Br();if(null!==r)try{r.setItem(n,t)}catch(n){zr=!1,An(e,2,3,"Browser failed write to local storage. "+Re(n),{exception:yn(n)})}}(a,r(),[e,n,i].join("|"))}}))}return e.acquisitionSpan=864e5,e.renewalSpan=18e5,e.cookieUpdateInterval=6e4,e}(),bo=function(e,n,t,r){var i=this;i.traceID=e||zt(),i.parentID=n;var a=dn();!t&&a&&a.pathname&&(t=a.pathname),i.name=Jr(r,t)};function wo(e){return!("string"!=typeof e||!e||e.match(/,|;|=| |\|/))}var So=function(){function e(n,t){this.isNewUser=!1,this.isUserCookieSet=!1;var r,i=Nn(t),a=ct(t);_(e,this,(function(t){t.config=n;var o=t.config.userCookiePostfix&&t.config.userCookiePostfix()?t.config.userCookiePostfix():"";r=function(){return e.userCookieName+o};var s=a.get(r());if(s){t.isNewUser=!1;var u=s.split(e.cookieSeparator);u.length>0&&(t.id=u[0],t.isUserCookieSet=!!t.id)}function c(){var e=n||{};return((e.getNewId?e.getNewId():null)||Xn)(e.idLength?n.idLength():22)}function l(e){var n=be(new Date);return t.accountAcquisitionDate=n,t.isNewUser=!0,[e,n]}function f(e){t.isUserCookieSet=a.set(r(),e,31536e3)}if(!t.id){t.id=c(),f(l(t.id).join(e.cookieSeparator));var d=n.namePrefix&&n.namePrefix()?n.namePrefix()+"ai_session":"ai_session";!function(e,n){var t=Br();if(null!==t)try{t.removeItem(n)}catch(n){zr=!1,An(e,2,5,"Browser failed removal of local storage item. "+Re(n),{exception:yn(n)})}}(i,d)}t.accountId=n.accountId?n.accountId():void 0;var p=a.get(e.authUserCookieName);if(p){var g=(p=decodeURI(p)).split(e.cookieSeparator);g[0]&&(t.authenticatedId=g[0]),g.length>1&&g[1]&&(t.accountId=g[1])}t.setAuthenticatedUserContext=function(n,r,o){if(void 0===o&&(o=!1),!wo(n)||r&&!wo(r))An(i,2,60,"Setting auth user context failed. User auth/account id should be of type string, and not contain commas, semi-colons, equal signs, spaces, or vertical-bars.",!0);else{t.authenticatedId=n;var s=t.authenticatedId;r&&(t.accountId=r,s=[t.authenticatedId,t.accountId].join(e.cookieSeparator)),o&&a.set(e.authUserCookieName,encodeURI(s))}},t.clearAuthenticatedUserContext=function(){t.authenticatedId=null,t.accountId=null,a.del(e.authUserCookieName)},t.update=function(n){t.id===n&&t.isUserCookieSet||f(l(n||c()).join(e.cookieSeparator))}}))}return e.cookieSeparator="|",e.userCookieName="ai_user",e.authUserCookieName="ai_authUser",e}(),_o="ext",ko="tags";function Do(e,n){e&&e[n]&&0===Ee(e[n]).length&&delete e[n]}var Po,Eo=function(){function e(n,t,r){var i=this,a=n.logger;this.appId=function(){return null},this.getSessionId=function(){return null},_(e,this,(function(e){if(e.application=new mo,e.internal=new xo(t),an()){e.sessionManager=new Co(t,n),e.device=new yo,e.location=new Io,e.user=new So(t,n);var o,s=void 0,u=void 0;r&&(s=r.getTraceId(),u=r.getSpanId(),o=r.getName()),e.telemetryTrace=new bo(s,u,o,a),e.session=new To}e.getSessionId=function(){var n=e.session,t=null;if(n&&xe(n.id))t=n.id;else{var r=(e.sessionManager||{}).automaticSession;t=r&&xe(r.id)?r.id:null}return t},e.applySessionContext=function(n,t){qe(Ue(n.ext,"app"),"sesId",e.getSessionId(),xe)},e.applyOperatingSystemContxt=function(n,t){qe(n.ext,"os",e.os)},e.applyApplicationContext=function(n,t){var r=e.application;if(r){var i=Ue(n,ko);qe(i,$i.applicationVersion,r.ver,xe),qe(i,$i.applicationBuild,r.build,xe)}},e.applyDeviceContext=function(n,t){var r=e.device;if(r){var i=Ue(Ue(n,_o),Wi);qe(i,"localId",r.id,xe),qe(i,"ip",r.ip,xe),qe(i,"model",r.model,xe),qe(i,"deviceClass",r.deviceClass,xe)}},e.applyInternalContext=function(n,t){var r=e.internal;if(r){var i=Ue(n,ko);qe(i,$i.internalAgentVersion,r.agentVersion,xe),qe(i,$i.internalSdkVersion,r.sdkVersion,xe),n.baseType!==En.dataType&&n.baseType!==Ni.dataType||(qe(i,$i.internalSnippet,r.snippetVer,xe),qe(i,$i.internalSdkSrc,r.sdkSrc,xe))}},e.applyLocationContext=function(e,n){var t=i.location;t&&qe(Ue(e,ko,[]),$i.locationIp,t.ip,xe)},e.applyOperationContext=function(n,t){var r=e.telemetryTrace;if(r){var i=Ue(Ue(n,_o),Ji,{traceID:void 0,parentID:void 0});qe(i,"traceID",r.traceID,xe,ce),qe(i,"name",r.name,xe,ce),qe(i,"parentID",r.parentID,xe,ce)}},e.applyWebContext=function(e,n){var t=i.web;t&&qe(Ue(e,_o),"web",t)},e.applyUserContext=function(n,t){var r=e.user;if(r){qe(Ue(n,ko,[]),$i.userAccountId,r.accountId,xe);var i=Ue(Ue(n,_o),Yi);qe(i,"id",r.id,xe),qe(i,"authId",r.authenticatedId,xe)}},e.cleanUp=function(e,n){var t=e.ext;t&&(Do(t,Wi),Do(t,Yi),Do(t,"web"),Do(t,"os"),Do(t,"app"),Do(t,Ji))}}))}return e.__ieDyn=1,e}(),No=function(e){function n(){var t,r,i,a=e.call(this)||this;return a.priority=110,a.identifier=Zi,_(n,a,(function(e,a){function o(){t=null,r=null,i=null}o(),e.initialize=function(o,s,u,c){a.initialize(o,s,u,c),function(a){var o=e.identifier,s=e.core,u=nr(null,a,s),c=n.getDefaultConfig();t=t||{},ve(c,(function(e,n){t[e]=function(){return u.getConfig(o,e,n())}})),i=s.getTraceCtx(!1),e.context=new Eo(s,t,i),r=hi(e.context.telemetryTrace,i),s.setTraceCtx(r),e.context.appId=function(){var e=s.getPlugin(Qi);return e?e.plugin._appId:null},e._extConfig=t}(o)},e.processTelemetry=function(n,t){if(ce(n));else{t=e._getTelCtx(t),n.name===Ni.envelopeType&&t.diagLog().resetInternalMessageCount();var r=e.context||{};r.session&&"string"!=typeof e.context.session.id&&r.sessionManager&&r.sessionManager.update();var i=r.user;if(i&&!i.isUserCookieSet&&i.update(r.user.id),function(n,t){Ue(n,"tags",[]),Ue(n,"ext",{});var r=e.context;r.applySessionContext(n,t),r.applyApplicationContext(n,t),r.applyDeviceContext(n,t),r.applyOperationContext(n,t),r.applyUserContext(n,t),r.applyOperatingSystemContxt(n,t),r.applyWebContext(n,t),r.applyLocationContext(n,t),r.applyInternalContext(n,t),r.cleanUp(n,t)}(n,t),i&&i.isNewUser){i.isNewUser=!1;var a=new En(72,(ln()||{}).userAgent||"");!function(e,n,t){Ln(e).logInternalMessage(1,t)}(t.diagLog(),0,a)}e.processNext(n,t)}},e._doTeardown=function(e,n){var t=(e||{}).core();t&&t.getTraceCtx&&t.getTraceCtx(!1)===r&&t.setTraceCtx(i),o()}})),a}return V(n,e),n.getDefaultConfig=function(){var e,n,t=null;return(e={instrumentationKey:function(){return n}}).accountId=function(){return t},e.sessionRenewalMs=function(){return 18e5},e.samplingPercentage=function(){return 100},e.sessionExpirationMs=function(){return 864e5},e.cookieDomain=function(){return t},e.sdkExtension=function(){return t},e.isBrowserLinkTrackingEnabled=function(){return!1},e.appId=function(){return t},e.getSessionId=function(){return t},e.namePrefix=function(){return n},e.sessionCookiePostfix=function(){return n},e.userCookiePostfix=function(){return n},e.idLength=function(){return 22},e.getNewId=function(){return t},e},n}(ur),Mo="disableIkeyDeprecationMessage",Lo=["snippet","dependencies","properties","_snippetVersion","appInsightsNew","getSKUDefaults"],Ao=function(){function e(n){var t,r,i,a,o,s,u,c=this;_(e,this,(function(e){o=$n("AISKU"),s=null,null,null,null,null,a=""+(n.sv||n.version||""),n.queue=n.queue||[],n.version=n.version||2;var l=n.config||{};if(l.connectionString){var f=function(e){if(!e)return{};var n=function(e,n,t){var r;if(e){if(e.reduce)return e.reduce(n,t);var i=e.length,a=0;if(arguments.length>=3)r=arguments[2];else{for(;a<i&&!(a in e);)a++;r=e[a++]}for(;a<i;)a in e&&(r=n(r,e[a],a,e)),a++}return r}(e.split(";"),(function(e,n){var t=n.split("=");if(2===t.length){var r=t[0].toLowerCase(),i=t[1];e[r]=i}return e}),{});if(Ee(n).length>0){if(n.endpointsuffix){var t=n.location?n.location+".":"";n.ingestionendpoint=n.ingestionendpoint||"https://"+t+"dc."+n.endpointsuffix}n.ingestionendpoint=n.ingestionendpoint||Dr}return n}(l.connectionString),d=f.ingestionendpoint;l.endpointUrl=d?d+Pr:l.endpointUrl,l.instrumentationKey=f.instrumentationkey||l.instrumentationKey}e.appInsights=new ya,r=new No,t=new ho,i=new Ha,u=new yr,e.core=u;var p=!!ce(l[Mo])||l[Mo];l.connectionString||p||An(u.logger,1,106,"Instrumentation key support will end soon, see aka.ms/IkeyMigrate"),e.snippet=n,e.config=l,e.config.diagnosticLogInterval=e.config.diagnosticLogInterval&&e.config.diagnosticLogInterval>0?e.config.diagnosticLogInterval:1e4,e.flush=function(e){void 0===e&&(e=!0),zn(u,(function(){return"AISKU.flush"}),(function(){we(u.getTransmissionControls(),(function(n){we(n,(function(n){n.flush(e)}))}))}),null,e)},e.onunloadFlush=function(e){void 0===e&&(e=!0),we(u.getTransmissionControls(),(function(n){we(n,(function(n){n.onunloadFlush?n.onunloadFlush():n.flush(e)}))}))},e.loadAppInsights=function(n,o,s){return void 0===n&&(n=!1),n&&e.config.extensions&&e.config.extensions.length>0&&He("Extensions not allowed in legacy mode"),zn(e.core,(function(){return"AISKU.loadAppInsights"}),(function(){var l=[];l.push(i),l.push(r),l.push(t),l.push(e.appInsights),u.initialize(e.config,l,o,s),e.context=r.context,Po&&e.context&&(e.context.internal.sdkSrc=Po),function(t){if(t){var r="";ce(a)||(r+=a),n&&(r+=".lg"),e.context&&e.context.internal&&(e.context.internal.snippetVer=r||"-"),ve(e,(function(e,n){xe(e)&&!pe(n)&&e&&"_"!==e[0]&&-1===Se(Lo,e)&&(t[e]=n)}))}}(e.snippet),e.emptyQueue(),e.pollInternalLogs(),e.addHousekeepingBeforeUnload(c)})),e},e.updateSnippetDefinitions=function(n){!function(e,n,t){if(e&&n&&de(e)&&de(n)){var r=function(r){if(xe(r)){var i=n[r];pe(i)?t&&!t(r)||(e[r]=Be(n,r)):t&&!t(r)||(fe(e,r)&&delete e[r],Ne(e,r,(function(){return n[r]}),(function(e){n[r]=e}))||(e[r]=i))}};for(var i in n)r(i)}}(n,e,(function(e){return e&&-1===Se(Lo,e)}))},e.emptyQueue=function(){try{if(me(e.snippet.queue)){for(var n=e.snippet.queue.length,t=0;t<n;t++)(0,e.snippet.queue[t])();e.snippet.queue=void 0,delete e.snippet.queue}}catch(e){e&&pe(e.toString)&&e.toString()}},e.addHousekeepingBeforeUnload=function(e){if(an()||sn()){var n=function(){if(e.onunloadFlush(!1),pe(c.core.getPlugin)){var n=c.core.getPlugin(Zi);if(n){var t=n.plugin;t&&t.context&&t.context._sessionManager&&t.context._sessionManager.backup()}}},t=!1,r=e.appInsights.config.disablePageUnloadEvents;s||(s=Lt(o,u.evtNamespace&&u.evtNamespace())),e.appInsights.config.disableFlushOnBeforeUnload||(function(e,n,t,r){var i=!1;return n&&e&&me(e)&&!(i=qt(e,n,t,r))&&t&&t.length>0&&(i=qt(e,n,null,r)),i}([Tt,It,xt],n,r,s)&&(t=!0),Ft(n,r,s)&&(t=!0),t||(i=ln())&&i.product&&"ReactNative"===i.product||An(e.appInsights.core.logger,1,19,"Could not add handler for beforeunload and pagehide")),t||e.appInsights.config.disableFlushOnUnload||Ft(n,r,s)}var i},e.getSender=function(){return i},e.unload=function(n,t,r){var i;e.onunloadFlush(n),s&&(Ut([Tt,It,xt],null,s),i=Lt(Ct,s),Ut([xt],null,i),Ut([yt],null,i)),u.unload&&u.unload(n,t,r)},je(e,e.appInsights,["getCookieMgr","trackEvent","trackPageView","trackPageViewPerformance","trackException","_onerror","trackTrace","trackMetric","startTrackPage","stopTrackPage","startTrackEvent","stopTrackEvent"]),je(e,(function(){return t}),["trackDependencyData","addDependencyListener","addDependencyInitializer"]),je(e,u,["addTelemetryInitializer","pollInternalLogs","stopPollingInternalLogs","getPlugin","addPlugin","evtNamespace","addUnloadCb","getTraceCtx"]),je(e,(function(){var e=r.context;return e?e.user:null}),["setAuthenticatedUserContext","clearAuthenticatedUserContext"])}))}return e.prototype.addDependencyInitializer=function(e){return null},e}();!function(){var e=null,n=["://js.monitor.azure.com/","://az416426.vo.msecnd.net/"];try{var t=(document||{}).currentScript;t&&(e=t.src)}catch(e){}if(e)try{var r=e.toLowerCase();if(r)for(var i="",a=0;a<n.length;a++)if(-1!==r.indexOf(n[a])){i="cdn"+(a+1),-1===r.indexOf("/scripts/")&&(-1!==r.indexOf("/next/")?i+="-next":-1!==r.indexOf("/beta/")&&(i+="-beta")),Po=i+"";break}}catch(e){}}()}}]);